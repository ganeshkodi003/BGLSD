<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<!--
	CREATED BY : NITHYAPRIYA
	DATE : 22-09-24
	PURPOSE    : BACP - CUSTOMER DETAILS
	VERSION    : 01
	
	CREATED BY : SURIYA
	DATE       : 23-09-24
	PURPOSE    : BACP - CUSTOMER DETAILS
	VERSION    : 02
	CHANGES    : FUNCTINALITY AND DESIGN
-->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css"
	href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/font-awesome/5.9.0/css/all.min.css"
	th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/jquery-ui/1.12.1/jquery-ui.min.css"
	th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/datatables/1.10.19/css/jquery.dataTables.min.css"
	th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
<link rel="shortcut icon" th:href="@{/favicon.ico}" type="image/x-icon">
<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon">

<script src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js"
	th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
<script src="/webjars/popper.js/1.14.7/umd/popper.min.js"
	th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
<script src="/webjars/jquery/3.4.1/jquery.min.js"
	th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.min.js"
	th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>

<script src="/webjars/jquery-form/4.2.2/jquery.form.min.js"
	th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>

<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
	th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>

<script src="/webjars/datatables/1.10.19/js/jquery.dataTables.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
<script
	src="/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>




<style>
.chn {
	box-shadow: 0 8px 20px 0 rgba(0, 0, 0, 0.2);
}

.custom-modal {
	max-width: 80%; /* Set width as 80% of the screen width */
	max-height: 500%; /* Set height as 80% of the screen height */
}

.custom-modal .modal-content {
	height: 500%; /* Make sure the content fills the full height */
}

.modal {
	display: none;
	/* Hidden by default */
	position: absolute;
	/* Stay in place */
	z-index: 1;
	/* Sit on top */
	padding-top: 100px;
	/* Location of the box */
	left: 0;
	top: 0;
	width: 100%;
	/* Full width */
	height: 100%;
	/* Full height */
	overflow: auto;
	/* Enable scroll if needed */
	background-color: rgb(0, 0, 0);
	/* Fallback color */
	background-color: rgba(0, 0, 0, 0.4);
	/* Black w/ opacity */
}

.modal-header {
	padding: 2px 16px;
	background-color: #BBC3CB;
	color: balck;
}

.modal-body {
	padding: 2px 16px;
}

.modal-footer {
	padding: 2px 16px;
	background-color: #BBC3CB;
	color: black;
}
/* Modal Content */
.modal-content {
	background-color: #fefefe;
	margin: auto;
	padding: 20px;
	border: 1px solid #888;
	width: 80%;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
		rgba(0, 0, 0, 0.19);
	-webkit-animation-name: animatetop;
	-webkit-animation-duration: 0.4s;
	animation-name: animatetop;
	animation-duration: 0.4s
}

#imgCapture11 img {
	transition: box-shadow 0.3s ease; /* Smooth transition */
}

#imgCapture11 img:hover {
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
	/* Adjust values for the shadow */
}

.modaldoc {
	display: none;
	position: fixed;
	top: 0;
	left: 30%;
	width: 50%;
	height: 100%;
	/*  background-color: rgba(0, 0, 0, 0.7); */
	z-index: 1;
}

.modal-contentdoc {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background-color: #fff;
	border: 1px solid #888;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
	text-align: center;
}

.closedoc {
	position: absolute;
	top: 10px;
	right: 10px;
	font-size: 30px;
	cursor: pointer;
	color: white;
}

body {
	font-size: 0.8rem;
}

.btn {
	line-height: 0.5rem;
}

.table-bordered td, .table-bordered th {
	font-size: smaller;
}

.container-manager {
	width: 83.5%;
	padding-right: 15px;
	padding-left: 15px;
	margin-right: auto;
	margin-left: 17.3%;
	margin-top: 80px;
	margin-top: 80px;
}

.table .thead-light th {
	color: #495057;
	background-color: #e9ecef;
	border-color: #dee2e6;
	width: 23px;
}

.tablinks {
	background-color: #f2f2f2;
	color: #000;
}

.tablinks.active {
	background-color: #007bff;
	color: #fff;
}

.tab {
	overflow: hidden;
	border: 1px solid #ccc;
	background-color: #f1f1f1;
}

.scroll {
	max-height: 60vh;
	overflow-y: scroll;
	overflow-x: hidden;
}

.tab button {
	background-color: inherit;
	float: left;
	border: none;
	outline: none;
	cursor: pointer;
	padding: 14px 16px;
	transition: 0.3s;
	font-size: 17px;
}

.tab button:hover {
	background-color: #ddd;
}

.tabcontent {
	display: none;
	padding: 6px 12px;
	border: 0px solid #ccc;
	border-top: none;
}

#myPieChart {
	width: 100px;
	height: 100px;
}
</style>
<style>
.modal-pass {
	background-color: #fefefe;
	margin: 15% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 40%;
	height: 25%;
	margin-left: 400PX;
	margin-right: auto;
	border-radius: 10px;
	box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);
	font-family: Arial, sans-serif;
}

.close {
	color: red;
	font-size: 28px;
	font-weight: bold;
}

.close:hover, .close:focus {
	color: black;
	text-decoration: none;
	cursor: pointer;
}
</style>
<style>
.password-info {
	visibility: hidden;
	width: 320px;
	background-color: #333;
	color: #fff;
	text-align: left;
	border-radius: 10px;
	padding: 10px;
	position: absolute;
	z-index: 1;
	top: calc(100% + 10px);
	left: 50%;
	transform: translateX(-50%);
	opacity: 0;
	transition: opacity 0.3s;
}

input:hover+.password-info {
	visibility: visible;
	opacity: 0.8;
}

.filterable .filters input[disabled] {
	background-color: transparent;
	border: none;
	cursor: auto;
	box-shadow: none;
	padding: 0;
	height: auto;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-moz-placeholder {
	color: #333;
}

.filterable .filters input[disabled]:-ms-input-placeholder {
	color: #333;
}
</style>


<script>
	function Home() {

		location.href = 'Dashboard';
	}

	function Back() {
		window.history.back();
	}

	$(function() {

		$("#disableDate, #disableTilDate, #passExDate, #acctexpiryDate")
				.datepicker({
					dateFormat : "dd-mm-yy",
					changeMonth : true,
					changeYear : true
				});

		$("#disableDate").on(
				"change",
				function() {
					var disableDate = $(this).datepicker("getDate");
					if (disableDate) {
						$("#disableTilDate").datepicker("option", "minDate",
								disableDate);
						$("#passExDate").datepicker("option", "minDate",
								disableDate);
						$("#acctexpiryDate").datepicker("option", "minDate",
								disableDate);
					}
				});

		$("#disableTilDate").on("change", function() {
			var disableDate = $("#disableDate").datepicker("getDate");
			var disableTilDate = $(this).datepicker("getDate");

			if (!disableDate) {
				alert("Please choose Disable Date first.");
				$(this).val("");
			} else if (disableTilDate && disableTilDate < disableDate) {
				alert("Disable Til Date cannot be earlier than Disable Date.");
				$(this).val("");
			}
		});
	});
</script>
<script>
	function adduser(a) {
		event.preventDefault();
		location.href = 'userProfile?formmode=add';
	}

	function list() {

		location.href = './assosiateProfile?formmode=list';
	}
</script>

<script>
	function roledesc() {

		var roleid = $("#roleId").find(':selected').val();

		if (roleid == 'ADM') {
			$("#roleDesc").val("ADMIN");
		} else if (roleid == 'GEN') {
			$("#roleDesc").val("GENERAL_USER");
		}
		$(this).find(':selected').text();

	}
</script>
<script>
	function submitform() {
		event.preventDefault();

		var userProfile = {
			userid : $('#userid').val(),
			username : $('#username').val(),
			mob_number : $('#mobNo').val(),
			email_id : $('#emailId').val(),
			disable_start_date : $('#disableDate').val(),
			disable_end_date : $('#disableTilDate').val(),
			password : $('#password').val(),
			pass_exp_date : $('#passExDate').val(),
			user_status : $('#userStatus').val(),
			login_status : $('#loginStatus').val(),
			acc_exp_date : $('#acctexpiryDate').val(),
			role_id : $('#roleId').val(),
			role_desc : $('#roleDesc').val(),
			permissions : $('#permission').val(),
			work_class : $('#work_class').val()
		};

		console.log(userProfile);

	}
</script>


<script>
	$(document)
			.ready(
					function() {
						$('.filterable .btn-filter')
								.click(
										function() {
											var $panel = $(this).parents(
													'.filterable'), $filters = $panel
													.find('.filters input'), $tbody = $panel
													.find('.table tbody');
											if ($filters.prop('disabled') == true) {
												$filters
														.prop('disabled', false);
												$filters.first().focus();
											} else {
												$filters.val('').prop(
														'disabled', true);
												$tbody.find('.no-result')
														.remove();
												$tbody.find('tr').show();
											}
										});

						$('.filterable .filters input')
								.keyup(
										function(e) {
											/* Ignore tab key */
											var code = e.keyCode || e.which;
											if (code == '9')
												return;
											/* Useful DOM data and selectors */
											var $input = $(this), inputContent = $input
													.val().toLowerCase(), $panel = $input
													.parents('.filterable'), column = $panel
													.find('.filters th')
													.index($input.parents('th')), $table = $panel
													.find('.table'), $rows = $table
													.find('tbody tr');
											/* Dirtiest filter function ever ;) */
											var $filteredRows = $rows
													.filter(function() {
														var value = $(this)
																.find('td').eq(
																		column)
																.text()
																.toLowerCase();
														return value
																.indexOf(inputContent) === -1;
													});
											/* Clean previous no-result if exist */
											$table.find('tbody .no-result')
													.remove();
											/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
											$rows.show();
											$filteredRows.hide();
											/* Prepend no-result row if all rows are filtered */
											if ($filteredRows.length === $rows.length) {
												$table
														.find('tbody')
														.prepend(
																$('<tr class="no-result text-center"><td colspan="'
																		+ $table
																				.find('.filters th').length
																		+ '">No result found</td></tr>'));
											}
										});
					});
</script>
<script>
	function base64ToUint8Array(base64) {

		const binaryString = window.atob(base64);

		const length = binaryString.length;

		const uint8Array = new Uint8Array(length);

		for (let i = 0; i < length; i++) {
			uint8Array[i] = binaryString.charCodeAt(i);
		}

		return uint8Array;
	}

	function onimageon() {
	    var appl_ref_no = document.getElementById("gooom").value; 
	    $.ajax({
	        type: 'get',
	        url: '/BGLS/getimages?appl_ref_no=' + appl_ref_no,
	        success: function (response) {
			
	          // alert(response)
	                const base64String = response;

	                const uint8Array = base64ToUint8Array(base64String);

	                const blob = new Blob([uint8Array]);

	                const imageUrl = URL.createObjectURL(blob);
	                const imgelement = document.createElement("img");
	                imgelement.src = imageUrl;
	           
	                imgelement.style.width = "200px";
	                imgelement.style.height = "100px";
	                var element1 = document.getElementById("imgCapture1");
	                element1.appendChild(imgelement);
	               
	                console.log(img);
	            }
	         
	        
	    });
	 

	}
	function onimages() {
		var appl_ref_no = document.getElementById("appl_ref_no").value;
		//alert(appl_ref_no); 
		$.ajax({
			type : 'get',
			url : './api/getimages?appl_ref_no=' + appl_ref_no,

			success : function(response) {
				//   alert(response); 
				const base64String = response;
				const uint8Array = base64ToUint8Array(base64String);

				const blob = new Blob([ uint8Array ]);

				const imageUrl = URL.createObjectURL(blob);
				const img = document.createElement("img");
				img.src = imageUrl;
				img.style.width = "200px";
				img.style.height = "100px";
				var element = document.getElementById("imageContainer");
				element.appendChild(img);
				console.log(img);

			}
		});
	};
	/* function onimagesone() {
	    var appl_ref_no = document.getElementById("gooom").value;
		//alert(appl_ref_no); 
				$
					.ajax({
						type : 'get',
						url : '/BGLS/getimagesone?appl_ref_no=' + appl_ref_no,

						success :  function(response) {
							            //    alert(response); 
	 	 const base64String =response;
		 const uint8Array = base64ToUint8Array(base64String);
		
		const blob = new Blob([uint8Array]);
		
		const imageUrl = URL.createObjectURL(blob);
		const img = document.createElement("img");
		img.src = imageUrl;
		img.style.width = "250px";
		img.style.height = "250px";
		var element = document.getElementById("photoCapture1");
	  element.appendChild(img); 
	 console.log(img);   
		 	}
		});  
	}; */
	function onimagesone() {
	    var appl_ref_no = document.getElementById("gooom").value;
		//alert(appl_ref_no); 
				$
					.ajax({
						type : 'get',
						url : '/BGLS/getimagesone?appl_ref_no=' + appl_ref_no,

						success :  function(response) {
							            //    alert(response); 
	 	 const base64String =response;
		 const uint8Array = base64ToUint8Array(base64String);
		
		const blob = new Blob([uint8Array]);
		
		const imageUrl = URL.createObjectURL(blob);
		const img = document.createElement("img");
		img.src = imageUrl;
		img.style.width = "250px";
		img.style.height = "250px";
		var element = document.getElementById("photoCapture1");
	  element.appendChild(img); 
	 console.log(img);   
		 	}
		});  
	};
	$(function () {
		$("#ca_date_of_birth, #ca_address_validation_form, #password_expiry_date, #account_expiry_date").datepicker({
			dateFormat: "dd-mm-yy"
		});
	});


</script>
<script th:inline="javascript">
	/*<![CDATA[*/
	function list() {
		location.href = 'CustomerRequest?formmode=list';
	}

	function back() {
		window.history.back();
	}

	function adduser(a) {
		var appl_ref_no = document.getElementById("appl_ref_no").value;
		alert(appl_ref_no);
		window.open(
				'CustomerRequest?formmode=view1&appl_ref_no=' + appl_ref_no,
				"", "width=300, height=300");
		/* 
		 var appl_ref_no = a.getAttribute("data-appl_ref_no");

		 location.href = 'CustomerDetailsCorrection?formmode=view1&appl_ref_no='
		 + appl_ref_no */

	}

	function editcust(a) {

		var refno = document.getElementById("appl_ref_no").value;
		location.href = 'CustomerDetailsCorrection?formmode=edit&appl_ref_no='
				+ refno
	}
	function edit11(a) {

		var refno = document.getElementById("appl_ref_no").value;
		location.href = 'CustomerDetailsCorrection?formmode=edit1&appl_ref_no='
				+ refno
	}
/* 
	function listradioclick(a) {

		var appl_ref_no = a.getAttribute("data-appl_ref_no");

		location.href = 'CustomerDetailsCorrection?formmode=view&appl_ref_no='
				+ appl_ref_no
	} */
	function listradioclick(a) {

		var appl_ref_no = a.getAttribute("data-appl_ref_no");
		//alert(appl_ref_no)
		var account_type = a.getAttribute("data-account_type");
		//alert(account_type)
		var rec_no = a.getAttribute("data-rec_no");
		//alert(rec_no)
		if(account_type === 'CORPORATE'){
			location.href = 'CustomerDetailForCor?formmode=viewcorp&appl_ref_no=' + appl_ref_no +'&rec_no='+rec_no;		
			}else if(account_type === 'JOINT ACCOUNT'){
			location.href = 'CustomerCorrectionJoint?formmode=viewJoint&appl_ref_no=' + appl_ref_no +'&rec_no='+rec_no;
		}else{
			location.href = 'CustomerDetailsCorrection?formmode=view&appl_ref_no=' + appl_ref_no;
		}

		
	}
	function backs() {
		window.history.back();
	}

	function submitform(a) {

		if ($("#Customeredit").valid()) {
			var formmode = a.getAttribute("data-formmode");
			var url = "addBankandBranch?formmode=" + formmode;

			$("#Customeredit").attr('action', url);

			var options = {
				success : showResponse
			// post-submit callback 
			};

			$("#Customeredit").ajaxSubmit(options);

			function showResponse(responseText, statusText, xhr, $form) {

				$("#alertmsg").text(responseText);
				$("#add").hide();

				$('#alert').modal("toggle");

			}
			;
		}

	};

	function fndashboard() {
		location.href = 'Dashboard'
	}

	function barath() {
		alert("fghjkl")
		// Set the options for PDF generation
		var options = {
			filename : 'document.pdf',
			image : {
				type : 'jpeg',
				quality : 0.98
			},
			html2canvas : {
				scale : 2
			},
			jsPDF : {
				unit : 'in',
				format : 'a3',
				orientation : 'portrait'
			}
		};

		// Get the current page's HTML content
		var element = document.body;
		alert("fghjkl")

		// Call the html2pdf library to generate the PDF
		html2pdf().set(options).from(element).save();
		alert("fghjkl")

	}
</script>
<script>
function Onschemetype() {
    var schemetype = document.getElementById("schemetype").value; 
    $.ajax({
        type: 'GET',
        url: "./getSchemeDetails?schemetype=" + schemetype,
        success: function (response) {
            console.log(response);
            var SchemetypeDesc = response[0][0] != null ? response[0][0] : "";
            var SchemeCode = response[0][1];

            // Update Scheme Description based on SchemeCode
            var schemeDescription = "";
            switch(SchemeCode) {
                case 'SBGEN':
                    schemeDescription = "SAVING BANK GENERAL";
                    break;
                case 'CAGEN':
                    schemeDescription = "CURRENT ACCOUNT GENERAL";
                    break;
                case 'LAGEN':
                    schemeDescription = "LOAN ACCOUNT GENERAL";
                    break;
                case 'TDGEN':
                    schemeDescription = "TERM DEPOSIT GENERAL";
                    break;
                default:
                    schemeDescription = "UNKNOWN SCHEME";
            }

            // Update UI elements with fetched values
            $('#Schemetypedesc').text(SchemetypeDesc);
            $('#schmcode').val(SchemeCode);
            $('#Schemecodedesc').text(schemeDescription);  // Update description div

            // Hide both divs initially
            document.getElementById("Acc_TermDeposit").style.display = "none";
            document.getElementById("Acc_LeaseAccount").style.display = "none";

            // Show the respective div based on the SchemeCode
            if (SchemeCode === 'TDGEN') {
                document.getElementById("Acc_TermDeposit").style.display = "block";
            } else if (SchemeCode === 'LAGEN') {
                document.getElementById("Acc_LeaseAccount").style.display = "block";
            }
        }
    });
}

function show1(a) { 
	$("#imgCapture11 img").empty();
	$("#imgCapture11").html("");
	var values = document.getElementById("gooom").value;
	var value1 = a.getAttribute("data-doc_type");
	console.log(values);
	console.log(value1);
	$.ajax({
			type: 'get',
			url: '/BGLS/getproof1?appl_ref_no=' + values +'&doc_type=' +value1,
			success: function (response) {
				const base64String =response;
				const uint8Array = base64ToUint8Array(base64String);
				
				const blob = new Blob([uint8Array]);
				const imageUrl = URL.createObjectURL(blob);
				
				const img = document.createElement("img");
				img.src = imageUrl;
				
				  
				img.style.width = "350px";
				img.style.height = "250px";
				$(document).ready(function () {
					$(function () {
						$('#popup1').css("visibility", "visible");
						$('#popup1').css("opacity", 1);
					});

					$(".imageclose" ).click(function () {
						$('#popup1').css("visibility", "hidden");
						$('#popup1').css("opacity", 0);
					});
				});
				var modaldoc = document.getElementById("myModaldoc");
				modaldoc.style.display = "block";
				var element = document.getElementById("imgCapture11");
				element.appendChild(img);
				console.log(img);
			}
		});

}

		function closeDoc(a){
			var modaldoc = document.getElementById("myModaldoc");
			 modaldoc.style.display = "none";
		}
		function Onbranchidmini() {
			var sol_id = document.getElementById("prisolidmini").value; 
			$.ajax({
				type: 'GET',
				url: "./getBranchDetails?sol_id=" + sol_id,
				success: function (response) {
					console.log(response);
					var BranchId = response[0] != null ? response[0] : ""; 
					$('#branchdescmini').val(BranchId); 
				}
			}); 
		}
	</script>
<script type="text/javascript">
function clickloanaccountno(a) { 
	var loan_accountno = a.getAttribute('data-loan_accountno'); 
	location.href = 'drawDownLoanMaintanace?formmode=view&loan_accountno='+ loan_accountno
}
function clicktermaccountno(a) {
	var actno = a.getAttribute('data-loan_accountno');
	location.href = 'deposits?formmode=view&actno=' + actno
}
</script>
<script type="text/javascript"> 

function ClickCustType(a) {

	var appl_ref_no = a.getAttribute("data-appl_ref_no");
	//alert(appl_ref_no)
	var account_type = a.getAttribute("data-account_type");
	//alert(account_type)
	var rec_no = a.getAttribute("data-rec_no");
	//alert(rec_no)
	if(account_type === 'CORPORATE'){
		location.href = 'CustMaintCorp?formmode=viewCust&appl_ref_no=' + appl_ref_no +'&rec_no='+rec_no;
	}else if(account_type === 'JOINT ACCOUNT'){
		location.href = 'CustMaintJoint?formmode=viewCust&appl_ref_no=' + appl_ref_no +'&rec_no='+rec_no;
	}else{
		location.href = 'CustomerMaintenance?formmode=viewCust&appl_ref_no=' + appl_ref_no;
	}

	
}
</script>
<style>
.ms-n300 {
	margin-left: -300px !important;
}
</style>

</head>


<body onload=" onimageon();onimagesone();calculateMonthlyRepayment();">

	<div class="col-sm-2">
		<div th:insert="BGLSHeaderMenu :: header"></div>
	</div>
	<!---------------------Customer Details Starts------------------------------------------------------->
	<!-- Start Content-->
	<div class="container-manager">
		<div class="row">


			<div class="col-sm-11 ml-5 mt-2" style="font-size: 0.8rem;">


				<!-- ------------------------------------Approval- List---------------------------------- -->
				<div th:if="${formmode}=='list'">


					<div class="panel panel-primary filterable">

						<div class="card w-100 border panel panel-primary filterable">
							<div class="card-header"
								style="background-color: #e9ecef; height: 50px">
								<div class="float-left">
									<h6 style="font-size: 1.2rem;">CUSTOMER SUMMARY- LIST</h6>
								</div>
								<div class="float-right">
									<!-- <button type="button" class="btn btn-xs btn-primary btns p-2"
										onclick="Home(this)">DashBoard</button> -->
									<button type="button"
										class="btn btn-xs btn-primary btns p-2 border btn-filter">Filter</button>
								</div>
							</div>
							<div class="card-body">



								<div class="table-responsive">
									<table class=" table  table-bordered  table-hover table-sm"
										style="margin-bottom: 0px;">
										<thead>
											<tr class="filters">
												<th><input type="text"
													class="form-control font-weight-bold" placeholder="Sl.No"
													disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="Customer Group" disabled></th>
													<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="Customer Id" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="App Ref No" disabled></th> 
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="Account Type" disabled></th>
													<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="Account No" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="Customer Name" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="National Id" disabled></th>

												<th><input type="text"
													class="form-control font-weight-bold" placeholder="Select"
													disabled></th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="customerrequest, iterator : ${HoldandReject}"
												class="userlist">

												<td style="font-size: 14px" th:text="${iterator.index +1}"></td>
												<td style="font-size: 14px"
													th:text="${customerrequest.ca_customer_type}">456</td>
											
													
													<td class="text-primary" style="font-size: 14px" th:attr="data-appl_ref_no = ${customerrequest?.appl_ref_no},
                       								 data-account_type = ${customerrequest?.ca_acct_type},
                       								 data-rec_no = ${customerrequest?.rec_no}"
													onclick="ClickCustType(this);"
													th:id="${customerrequest.appl_ref_no}"><span
													th:if="${customerrequest.ca_customer_type == 'CORPORATE'}"  
														th:attr="data-ca_cif_id_1 = ${customerrequest?.ca_cif_id_1}"
													th:text="${customerrequest.ca_cif_id_1}">Corporate
														Name</span> <span
													th:if="${customerrequest.ca_customer_type == 'RETAIL'}" 
													th:text="${customerrequest.cif_id}">Individual</span> <span
													th:if="${customerrequest.ca_customer_type == 'RETAIL'}"  
													th:text="${customerrequest.ca_cif_id_1}">Joint Account</span></td>
													
												<td style="font-size: 14px"
													th:text="${customerrequest.appl_ref_no}">TEST</td> 
												
												<td style="font-size: 14px"
													th:text="${customerrequest.ca_acct_type}">l</td>
													
												<td class="text-primary" style="font-size: 14px"><span
													th:if="${customerrequest?.ca_schemetype == 'TD'}"  onclick="clicktermaccountno(this)"
													th:attr="data-loan_accountno = ${customerrequest?.td_deposit_accountno}"
													th:text="${customerrequest.td_deposit_accountno}"></span> <span
													th:attr="data-loan_accountno = ${customerrequest?.la_loan_accountno}"
													th:if="${customerrequest?.ca_schemetype == 'LA'}"  onclick="clickloanaccountno(this)"
													th:text="${customerrequest.la_loan_accountno}"></span></td>
													
												<td style="font-size: 14px"><span
													th:if="${customerrequest.ca_customer_type == 'CORPORATE'}"
													th:text="${customerrequest.corporateName}">Corporate
														Name</span> <span
													th:if="${customerrequest.ca_customer_type == 'RETAIL'}"
													th:text="${customerrequest.ca_preferred_name}">Preferred
														Name</span><span
													th:if="${customerrequest.ca_customer_type == 'RETAIL'}"
													th:text="${customerrequest.ca_full_name_1}">Full
														Name</span></td>
												<td style="font-size: 14px"
													th:text="${customerrequest.ca_idenditification_number}">l</td>

												<td align="center"><input type="radio"
													th:attr="data-appl_ref_no = ${customerrequest?.appl_ref_no},
                       								 data-account_type = ${customerrequest?.ca_acct_type},
                      								 data-rec_no = ${customerrequest?.rec_no}"
													onclick="listradioclick(this);"
													th:id="${customerrequest.appl_ref_no}" name="btnradio">
												</td>

											</tr>
										</tbody>
									</table>
								</div>

							</div>
							<div class="card-footer text-center"
								style="background-color: #e9ecef">


								<button class="btn btn-primary p-2" onclick="Home();">Home</button>
								<button class="btn btn-primary p-2" onclick="Back();">Back</button>

							</div>
						</div>

					</div>


				</div>

				<!-- ------------------------------------Approval- view---------------------------------- -->
				<div th:if=" ${formmode}=='view' or ${formmode}=='edit'">


					<div class="card w-100 border">

						<div class="card-header" style="background-color: #e9ecef;">
							<div class="float-left" th:if="${formmode}=='view'">
								<h6 style="font-size: 1.2rem;">CUSTOMER SUMMARY- VIEW</h6>
							</div>
							<div class="float-left" th:if="${formmode}=='edit'">
								<h6 style="font-size: 1.2rem;">CUSTOMER SUMMARY- EDIT</h6>
							</div>
							<div class="float-right">
								<!-- <button type="button" class="btn btn-xs btn-primary btns p-2"
									onclick="Home(this)">DashBoard</button> -->

							</div>

							<div class="float-right">
								<font Style="font-size: 13px; color: #3C6EAC"> <B>
										App Ref No : </B>
								</font> <input type="text"
									Style="font-size: 13px; background-color: transparent; border: none; outline-style: none; box-shadow: none; width: 100px;"
									id="appl_ref_no" th:value="${customerRequest?.appl_ref_no}" />|
								<font Style="font-size: 13px; color: #3C6EAC"> <B
									style="">Record No : </B></font> <input type="text"
									style="border: none; background-color: transparent; outline-style: none; box-shadow: none; width: 31px; font-size: 14px;"
									id="rec_no" th:value="${customerRequest?.rec_no}" readonly />
								<input hidden th:value="${customerRequest?.appl_ref_no}"
									type="text" id="gooom" name="gooom">

								<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnSubmit" onclick="editcust();">Edit</button>

							</div>

						</div>
						<div class="card-body">


							<form class=" p-2 " action="#" name="customerhold" method="post"
								th:object="${customerRequest}" autocomplete="off" id="mainForm">
								<!-- <p class="mt-2 ml-3">
									<b>Record No 1/1</b>
								</p> -->
								<div class="row pl-3">

									<div class="card float-right mt-2 chn" style="width: 70%">
										<div class="card-header">
											<div class="float-left">
												<h6 style="color: black; margin: 0;">MINIMAL DATA</h6>
											</div>

										</div>
										<div class="card-body ">
											<input hidden th:value="${customerRequest?.appl_ref_no}"
												type="text" id="gooom" name="gooom">

											<div class="row formline">
												<label class="col-sm-2">Primary Branch </label>
												<div class="col-sm-3">
													<input type="text" id="ca_solid"
														class="form-control form-control-sm"
														th:if="${formmode}=='view'"
														th:value="${customerRequest?.ca_solid}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_solid" autocomplete="off" readonly> <span
														id="merchant_corp_name_vali" class="reqError"></span> <select
														name="ca_solid" id="prisolidmini" th:field="*{ca_solid}"
														onchange="Onbranchidmini()" th:if="${formmode}=='edit'"
														class="form-control form-control-sm">
														<option value="">SELECT</option>
														<option th:each="city : ${branch_id}"
															th:value="${city.ref_id}" th:text="${city.ref_id}"></option>
													</select>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Branch Name </label>
												<div class="col-sm-3">
													<input type="text" id="branch_desc"
														th:if="${formmode}=='view'"
														class="form-control form-control-sm"
														th:value="${customerRequest?.branch_desc}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="branch_desc" autocomplete="off" readonly> <span
														id="merchant_corp_name_vali" class="reqError"></span> <input
														type="text" id="branchdescmini"
														th:if="${formmode}=='edit'"
														class="form-control form-control-sm"
														th:value="${customerRequest?.branch_desc}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="branch_desc" autocomplete="off" readonly> <span
														id="merchant_corp_name_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2">
												<label class="col-sm-2">Customer Group </label>
												<div class="col-sm-3">
													<input type="text" id="ca_customer_type"
														class="form-control form-control-sm"
														th:if="${formmode}=='view'"
														th:value="${customerRequest?.ca_customer_type}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_customer_type" autocomplete="off" readonly>
													<span id="merchant_corp_name_vali" class="reqError"></span>
													<input type="text" id="ca_customer_type"
														class="form-control form-control-sm"
														th:value="${HoldRejview?.ca_customer_type}"
														th:if="${formmode}=='edit'"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_customer_type" autocomplete="off" readonly>
													<span id="merchant_corp_name_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">First Name </label>
												<div class="col-sm-3">
													<input type="text" id="ca_first_name"
														th:if="${formmode}=='view'"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_first_name}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_first_name" autocomplete="off" readonly>
													<span id="merchant_corp_name_vali" class="reqError"></span>
													<input type="text" id="ca_first_name"
														th:if="${formmode}=='edit'"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_first_name}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_first_name" autocomplete="off"> <span
														id="merchant_corp_name_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2">
												<label class="col-sm-2">Middle Name </label>
												<div class="col-sm-3">
													<input type="text" id="mid_name"
														th:if="${formmode}=='view'"
														th:value="${customerRequest?.mid_name}"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm" name="mid_name"
														autocomplete="off" readonly> <span
														id="merchant_name_vali" class="reqError"></span> <input
														type="text" id="mid_name" th:if="${formmode}=='edit'"
														th:value="${customerRequest?.mid_name}"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm" name="mid_name"
														autocomplete="off"> <span id="merchant_name_vali"
														class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Last Name </label>
												<div class="col-sm-3">
													<input type="text" id="ca_last_name"
														th:if="${formmode}=='view'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_last_name}"
														name="ca_last_name" autocomplete="off" readonly> <span
														id="merchant_addr_vali" class="reqError"></span> <input
														type="text" id="ca_last_name" th:if="${formmode}=='edit'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_last_name}"
														name="ca_last_name" autocomplete="off"> <span
														id="merchant_addr_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2">
												<label class="col-sm-2">Short Name </label>
												<div class="col-sm-3">
													<input type="text" id="ca_preferred_name"
														th:if="${formmode}=='view'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_preferred_name}"
														name="ca_preferred_name" autocomplete="off" readonly>
													<span id="merchant_addr_vali" class="reqError"></span> <input
														type="text" id="ca_preferred_name"
														th:if="${formmode}=='edit'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_preferred_name}"
														name="ca_preferred_name" autocomplete="off"> <span
														id="merchant_addr_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Full Name </label>
												<div class="col-sm-3">
													<input type="text" id="ca_preferred_name"
														th:if="${formmode}=='view'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_first_name }"
														name="ca_preferred_name" autocomplete="off" readonly>
													<span id="merchant_addr_vali" class="reqError"></span> <input
														type="text" id="ca_preferred_name"
														th:if="${formmode}=='edit'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_first_name }"
														name="ca_preferred_name" autocomplete="off"> <span
														id="merchant_addr_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2">
												<label class="col-sm-2">Date of Birth </label>
												<div class="col-sm-3">
													<input type="text" id="ca_date_of_birth"
														class="form-control form-control-sm"
														th:if="${formmode}=='view'"
														th:value="${#dates.format(customerRequest?.ca_date_of_birth, 'dd-MM-yyyy')}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_date_of_birth" autocomplete="off" readonly>
													<span id="merchant_corp_name_vali" class="reqError"></span>
													<input type="text" id="ca_date_of_birth"
														class="form-control form-control-sm"
														th:if="${formmode}=='edit'"
														th:value="${#dates.format(customerRequest?.ca_date_of_birth, 'dd-MM-yyyy')}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_date_of_birth" autocomplete="off"> <span
														id="merchant_corp_name_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Mobile Number </label>
												<div class="col-sm-3" th:if="${formmode}=='view'">
													<div class="input-group">
														<div class="input-group-prepend">
															<input type="text" id="ca_countrycode_1"
																name="ca_countrycode_1"
																th:value="${customerRequest?.ca_countrycode_1}"
																class="form-control form-control-sm" value="+248"
																maxlength="5" style="width: 60px;" readonly="readonly" />
														</div>
														<input type="number" id="mobno" name="ca_mobile_number"
															autocomplete="off" maxlength="7"
															th:value="${customerRequest?.ca_mobile_number}"
															class="form-control form-control-sm"
															style="width: 100px;" readonly="readonly" />
													</div>
												</div>
												<div class="col-sm-3" th:if="${formmode}=='edit'">
													<div class="input-group">
														<div class="input-group-prepend">
															<input type="text" id="ca_countrycode_1"
																name="ca_countrycode_1"
																class="form-control form-control-sm" value="+248"
																maxlength="5" style="width: 60px;" readonly />
														</div>
														<input type="number" id="mobno" name="ca_mobile_number"
															autocomplete="off" maxlength="7"
															th:value="${customerRequest?.ca_mobile_number}"
															class="form-control form-control-sm"
															style="width: 100px;" />
													</div>
												</div>

											</div>
											<div class="row formline mt-2">
												<label class="col-sm-2">Passport Number </label>
												<div class="col-sm-3">
													<input type="number" id="ca_passport_number"
														th:if="${formmode}=='view'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_passport_number}"
														name="ca_passport_number" autocomplete="off" readonly>
													<span id="merchant_addr_vali" class="reqError"></span> <input
														type="number" id="ca_passport_number"
														th:if="${formmode}=='edit'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_passport_number}"
														name="ca_passport_number" autocomplete="off"> <span
														id="merchant_addr_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">National Id </label>
												<div class="col-sm-3">
													<input type="text" id="ca_idenditification_number"
														th:if="${formmode}=='view'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_idenditification_number}"
														name="ca_idenditification_number" autocomplete="off"
														readonly> <span id="merchant_addr_vali"
														class="reqError"></span> <input type="text"
														id="ca_idenditification_number"
														th:if="${formmode}=='edit'"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm"
														th:value="${customerRequest?.ca_idenditification_number}"
														name="ca_idenditification_number" autocomplete="off">
													<span id="merchant_addr_vali" class="reqError"></span>
												</div>
											</div>
										</div>
									</div>
									<!-- Secondary Form -->
									<table class="float-right" style="margin-left: 100px">
										<tr>
											<td rowspan="2" style="width: 230px; border: 1px;">
												<div id="photoCapture1"
													style="border: 1px solid #ccc; width: 0px; margin-top: 15px"></div>
												<br> <input type="file" id="file"
												style="margin-right: -90px;" name="file"
												accept="image/png, image/jpeg" th:if="${formmode}=='edit'" />
												<span class=underline onclick="clickPhoto(this);"
												title="click to view Image" id="openUploadModal"></span>


											</td>
										</tr>
									</table>
								</div>
								<label></label>
								<div class="
										row formline"></div>
								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">PERSONAL DETAILS</h6>
									</div>
									<div class="card-body ">
										<div class="row formline ">
											<label class="col-sm-2">Customer Type </label>
											<div class="col-sm-3">
												<input type="text" id="la_customer_type"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.la_customer_type}"
													name="la_customer_type" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="la_customer_type"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.la_customer_type}"
													name="la_customer_type" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Cif Id </label>
											<div class="col-sm-3">
												<input type="text" id="cif_id" th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.cif_id}" name="cif_id"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="cif_id" th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.cif_id}" name="cif_id"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Primary Branch </label>
											<div class="col-sm-3">
												<input type="text" id="ca_solid" th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_solid}" name="ca_solid"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <select
													name="ca_solid" id="prisolidmini" th:field="*{ca_solid}"
													onchange="Onbranchidmini()" th:if="${formmode}=='edit'"
													class="form-control form-control-sm">
													<option value="">SELECT</option>
													<option th:each="city : ${branch_id}"
														th:value="${city.ref_id}" th:text="${city.ref_id}"></option>
												</select>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Branch Name </label>
											<div class="col-sm-3">
												<input type="text" id="branch_desc"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.branch_desc}"
													name="branch_desc" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="branchdescmini" th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.branch_desc}"
													name="branch_desc" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Salutation </label>
											<div class="col-sm-3">
												<input type="text" id="ca_saluation"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_saluation}"
													onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
													name="ca_saluation" autocomplete="off" readonly> <span
													id="merchant_corp_name_vali" class="reqError"></span> <select
													type="text" id="ca_saluation" th:if="${formmode}=='edit'"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_saluation}"
													name="ca_saluation" autocomplete="off">
													<option value="">Select</option>
													<option value="MR"
														th:selected="${customerRequest?.ca_saluation}=='MR'">MR
													</option>
													<option value="MS"
														th:selected="${customerRequest?.ca_saluation}=='MR'">MS
													</option>
												</select>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">First Name </label>
											<div class="col-sm-3">
												<input type="text" id="ca_first_name"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_first_name}"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
													name="ca_first_name" autocomplete="off" readonly> <span
													id="merchant_corp_name_vali" class="reqError"></span> <input
													type="text" id="ca_first_name"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_first_name}"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
													name="ca_first_name" autocomplete="off"> <span
													id="merchant_corp_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Middle Name </label>
											<div class="col-sm-3">
												<input type="text" id="mid_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.mid_name}" name="mid_name"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="mid_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.mid_name}" name="mid_name"
													autocomplete="off"> <span id="merchant_name_vali"
													class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Last Name </label>
											<div class="col-sm-3">
												<input type="text" id="ca_last_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_last_name}"
													name="ca_last_name" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="ca_last_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_last_name}"
													name="ca_last_name" autocomplete="off"> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Full Name </label>
											<div class="col-sm-3">
												<input type="text" id="ca_first_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_first_name}"
													name="ca_first_name" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="ca_first_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_first_name}"
													name="ca_first_name" autocomplete="off"> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Short Name </label>
											<div class="col-sm-3">
												<input type="text" id="ca_preferred_name"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_preferred_name}"
													name="ca_preferred_name" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="ca_preferred_name"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_preferred_name}"
													name="ca_preferred_name" autocomplete="off"> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Occupation </label>
											<div class="col-sm-3">
												<input type="text" id="merchant_city"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_occupation1}"
													name="merchant_city" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <select
													id="merchant_city" name="merchant_city"
													th:if="${formmode}=='edit'"
													th:value="${HoldRejview?.ca_occupation1}"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="SALARIED"
														th:selected="${HoldRejview?.ca_occupation1}=='SALARIED'">SALARIED</option>
													<option value="CONTRACT BASED"
														th:selected="${HoldRejview?.ca_occupation1}=='CONTRACT BASED'">CONTRACT
														BASED</option>
													<option value="SALES/COMMISSION BASED"
														th:selected="${HoldRejview?.ca_occupation1}=='SALES/COMMISSION BASED'">SALES/COMMISSION
														BASED</option>
													<option value="STUDENT"
														th:selected="${HoldRejview?.ca_occupation1}=='STUDENT'">STUDENT</option>
													<option value="SELF EMPLOYED"
														th:selected="${HoldRejview?.ca_occupation1}=='SELF EMPLOYED'">SELF
														EMPLOYED</option>
													<option value="UNEMPLOYED"
														th:selected="${HoldRejview?.ca_occupation1}=='UNEMPLOYED'">UNEMPLOYED</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Gender </label>
											<div class="col-sm-3">
												<input type="text" id="ca_gender"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_gender}" name="ca_gender"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <select
													id="ca_gender" name="ca_gender" th:if="${formmode}=='edit'"
													th:value="${HoldRejview?.ca_gender}"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="MALE"
														th:selected="${HoldRejview?.ca_gender}=='MALE'">MALE</option>
													<option value="FEMALE"
														th:selected="${HoldRejview?.ca_gender}=='FEMALE'">FEMALE</option>
													<option value="TRANSGENDER"
														th:selected="${HoldRejview?.ca_gender}=='TRANSGENDER'">TRANSGENDER</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Marital Status </label>
											<div class="col-sm-3">
												<input type="text" id="ca_martial_staus"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_martial_staus}"
													name="ca_martial_staus" autocomplete="off" readonly>
												<span id="ca_martial_staus" class="reqError"></span> <select
													id="ca_martial_staus" name="ca_martial_staus"
													th:if="${formmode}=='edit'"
													th:value="${HoldRejview?.ca_martial_staus}"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="SINGLE"
														th:selected="${customerRequest?.ca_martial_staus}=='SINGLE'">SINGLE</option>
													<option value="MARRIED"
														th:selected="${customerRequest?.ca_martial_staus}=='MARRIED'">MARRIED</option>
													<option value="SEPERATED"
														th:selected="${customerRequest?.ca_martial_staus}=='SEPERATED'">SEPERATED</option>
													<option value="WIDOWED"
														th:selected="${customerRequest?.ca_martial_staus}=='WIDOWED'">WIDOWED</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Date Of Birth </label>
											<div class="col-sm-3">
												<input type="text" id="ca_date_of_birth"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${#dates.format(customerRequest?.ca_date_of_birth, 'dd-MM-yyyy')}"
													name="ca_date_of_birth" autocomplete="off" readonly>
												<span id="merchant_addr_vali" class="reqError"></span> <input
													type="text" id="ca_date_of_birth"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${#dates.format(customerRequest?.ca_date_of_birth, 'dd-MM-yyyy')}"
													name="ca_date_of_birth" autocomplete="off"> <span
													id="merchant_addr_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Annual Income </label>
											<div class="col-sm-3">
												<input type="text" id="annual_income"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.annual_income}"
													name="annual_income" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="annual_income" th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.annual_income}"
													name="annual_income" autocomplete="off"> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Monthly Income </label>
											<div class="col-sm-3">
												<input type="text" id="monthly_income"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.monthly_income}"
													name="monthly_income" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="monthly_income" th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.monthly_income}"
													name="monthly_income" autocomplete="off"> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Loan Obligations</label>
											<div class="col-sm-3">
												<input type="text" id="loan_obligations"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.loan_obligations}"
													name="loan_obligations" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="loan_obligations"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.loan_obligations}"
													name="loan_obligations" autocomplete="off"> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Family Maintenance</label>
											<div class="col-sm-3">
												<input type="text" id="family_maintenance"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.family_maintenance}"
													name="family_maintenance" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span> <input
													type="text" id="family_maintenance"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:value="${customerRequest?.family_maintenance}"
													name="family_maintenance" autocomplete="off"> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Email ID </label>
											<div class="col-sm-3">
												<input type="text" id="ca_email_id"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="ca_email_id"
													th:value="${customerRequest?.ca_email_id}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <input type="text"
													id="ca_email_id" th:if="${formmode}=='edit'"
													class="form-control form-control-sm" name="ca_email_id"
													th:value="${customerRequest?.ca_email_id}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off">
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Mobile No </label>
											<div class="col-sm-3">
												<div class="input-group" th:if="${formmode}=='view'">
													<div class="input-group-prepend">
														<input type="text" id="ca_countrycode_1"
															name="ca_countrycode_1"
															th:value="${customerRequest?.ca_countrycode_1}"
															class="form-control form-control-sm" value="+248"
															maxlength="5" style="width: 60px;" readonly="readonly" />
													</div>
													<input type="number" id="mobno" name="ca_mobile_number"
														autocomplete="off" maxlength="7"
														th:value="${customerRequest?.ca_mobile_number}"
														class="form-control form-control-sm" style="width: 100px;"
														readonly />
												</div>
												<input type="text" id="ca_mobile_number"
													th:if="${formmode}=='edit'"
													class="form-control form-control-sm"
													name="ca_mobile_number"
													th:value="${customerRequest?.ca_mobile_number}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off">
											</div>
										</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>

								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">ADDRESS DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="row formline">
											<label class="col-sm-2">Address Type </label>
											<div class="col-sm-3">
												<input type="text" id="ca_address_type"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_address_type}"
													name="ca_address_type" autocomplete="off" readonly>
												<span id="merchant_addr_vali" class="reqError"></span> <select
													id="ca_address_type" name="ca_address_type"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_address_type}"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="MAILING"
														th:selected="${customerRequest?.ca_address_type}=='MAILING'">MAILING</option>
													<option value="PERMANENT"
														th:selected="${customerRequest?.ca_address_type}=='PERMANENT'">PERMANENT</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">House No </label>
											<div class="col-sm-3">
												<input type="text" id="ca_house_no"
													class="form-control form-control-sm" name="ca_house_no"
													th:value="${customerRequest?.ca_house_no}"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <input type="text"
													id="ca_house_no" class="form-control form-control-sm"
													name="ca_house_no"
													th:value="${customerRequest?.ca_house_no}"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off">
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Street No </label>
											<div class="col-sm-3">
												<input type="text" id="ca_street_no"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_street_no}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_street_no" autocomplete="off" readonly> <input
													type="text" id="ca_street_no"
													class="form-control form-control-sm"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_street_no}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_street_no" autocomplete="off">
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Street Name</label>
											<div class="col-sm-3">
												<input type="text" id="ca_street_name"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_street_name}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_street_name" autocomplete="off" readonly>
												<input type="text" id="ca_street_name"
													class="form-control form-control-sm"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_street_name}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_street_name" autocomplete="off">
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Country</label>
											<div class="col-sm-3">
												<input type="text" id="ca_country"
													th:value="${customerRequest?.ca_country}"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="ca_country"
													autocomplete="off" readonly> <select
													id="ca_country" name="ca_country"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_country}"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="SEYCHELLES"
														th:selected="${customerRequest?.ca_country}=='SEYCHELLES'">SEYCHELLES</option>
													<option value="INDIA"
														th:selected="${customerRequest?.ca_country}=='INDIA'">INDIA</option>
													<option value="USA"
														th:selected="${customerRequest?.ca_country}=='USA'">USA</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">State</label>
											<div class="col-sm-3">
												<input type="text" id="ca_state" th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_state}"
													class="form-control form-control-sm" name="ca_state"
													autocomplete="off" readonly> <input type="text"
													id="ca_state" th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_state}"
													class="form-control form-control-sm" name="ca_state"
													autocomplete="off">
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">City</label>
											<div class="col-sm-3">
												<input type="text" id="ca_city"
													th:value="${customerRequest?.ca_city}"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="ca_city"
													autocomplete="off" readonly> <select id="ca_city"
													name="ca_city" th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_city}"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="VICTORIA"
														th:selected="${customerRequest?.ca_city}=='VICTORIA'">VICTORIA</option>
													<option value="LA DIGUE"
														th:selected="${customerRequest?.ca_city}=='LA DIGUE'">LA
														DIGUE</option>
													<option value="ANSE ROYALE"
														th:selected="${customerRequest?.ca_city}=='ANSE ROYALE'">ANSE
														ROYALE</option>
													<option value="BEAU VALLON"
														th:selected="${customerRequest?.ca_city}=='BEAU VALLON'">BEAU
														VALLON</option>
													<option value="THANJAVUR"
														th:selected="${customerRequest?.ca_city}=='THANJAVUR'">THANJAVUR</option>
													<option value="CHENNAI"
														th:selected="${customerRequest?.ca_city}=='CHENNAI'">CHENNAI</option>
													<option value="SALEM"
														th:selected="${customerRequest?.ca_city}=='SALEM'">SALEM</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Postal Code</label>
											<div class="col-sm-3">
												<input type="text" id="ca_postal_code"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_postal_code}"
													class="form-control form-control-sm" name="ca_postal_code"
													autocomplete="off" readonly> <input type="text"
													id="ca_postal_code" th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_postal_code}"
													class="form-control form-control-sm" name="ca_postal_code"
													autocomplete="off">
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Address Valid From</label>
											<div class="col-sm-3">
												<input type="text" id="ca_address_validation_form"
													th:if="${formmode}=='view'"
													th:value="${#dates.format(customerRequest?.ca_address_validation_form, 'dd-MM-yyyy')}"
													class="form-control form-control-sm"
													name="ca_address_validation_form" autocomplete="off"
													readonly> <input type="text"
													id="ca_address_validation_form" th:if="${formmode}=='edit'"
													th:value="${#dates.format(customerRequest?.ca_address_validation_form, 'dd-MM-yyyy')}"
													class="form-control form-control-sm"
													name="ca_address_validation_form" autocomplete="off">
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Nationality</label>
											<div class="col-sm-3">
												<input type="text" id="ca_nationality"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_nationality}"
													class="form-control form-control-sm" name="ca_nationality"
													autocomplete="off" readonly> <select
													id="ca_nationality" name="ca_nationality"
													th:value="${customerRequest?.ca_nationality}"
													th:if="${formmode}=='edit'"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="SEYCHELLOIS"
														th:selected="${customerRequest?.ca_nationality}=='SEYCHELLOIS'">SEYCHELLOIS</option>
													<option value="INDIAN"
														th:selected="${customerRequest?.ca_nationality}=='INDIAN'">INDIAN</option>
													<option value="USA"
														th:selected="${customerRequest?.ca_nationality}=='USA'">USA</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Country of Birth</label>
											<div class="col-sm-3">
												<input type="text" id="ca_country_of_birth"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_country_of_birth}"
													class="form-control form-control-sm"
													name="ca_country_of_birth" autocomplete="off" readonly>
												<select id="ca_country_of_birth" name="ca_country_of_birth"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_country_of_birth}"
													class="form-control form-control-sm" autocomplete="off"
													style="width: 100%">
													<option value="">SELECT</option>
													<option value="SEYCHELLES"
														th:selected="${customerRequest?.ca_country_of_birth}=='SEYCHELLES'">SEYCHELLES</option>
													<option value="INDIA"
														th:selected="${customerRequest?.ca_country_of_birth}=='INDIA'">INDIA</option>
													<option value="USA"
														th:selected="${customerRequest?.ca_country_of_birth}=='USA'">USA</option>
												</select> <span id="merchant_city_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Country of Origin</label>
											<div class="col-sm-3">
												<input type="text" id="country_origin"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.countryOrigin}"
													class="form-control form-control-sm" name="country_origin"
													autocomplete="off" readonly> <input type="text"
													id="country_origin" th:if="${formmode}=='edit'"
													th:value="${customerRequest?.countryOrigin}"
													class="form-control form-control-sm" name="country_origin"
													autocomplete="off">
											</div>
										</div>
									</div>
								</div>

								<label></label>
								<div class="row formline"></div>

								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">ACCOUNT DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="row formline">
											<label class="col-sm-2">Scheme Type </label>
											<div class="col-sm-3">
												<input type="text" id="ca_schemetype"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="ca_schemetype"
													th:value="${customerRequest?.ca_schemetype}"
													onkeyup="this.value = this.value.toUpperCase(); toggleAccountFields();"
													autocomplete="off" readonly> <select
													name="ca_schemetype" id="schemetype"
													th:if="${formmode}=='edit'" onchange="Onschemetype()"
													onkeyup="this.value = this.value.toUpperCase();handleIn(this)"
													class="form-control form-control-sm">
													<option value="">SELECT</option>
													<option th:each="city : ${schme_type}"
														th:if="${city.ref_id != 'CA'}" th:value="${city.ref_id}"
														th:text="${city.ref_id}"></option>
												</select>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Scheme Code </label>
											<div class="col-sm-3">
												<input type="text" id="ca_scheme_code"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="ca_scheme_code"
													th:value="${customerRequest?.ca_scheme_code}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <input type="text"
													id="schmcode" th:if="${formmode}=='edit'"
													class="form-control form-control-sm" name="ca_scheme_code"
													th:value="${customerRequest?.ca_scheme_code}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Currency </label>
											<div class="col-sm-3">
												<input type="text" id="ca_currency"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="ca_currency"
													th:value="${customerRequest?.ca_currency}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <input type="text"
													id="ca_currency" th:if="${formmode}=='edit'"
													class="form-control form-control-sm" name="ca_currency"
													th:value="${customerRequest?.ca_currency}" value="SCR"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">GL Head Code</label>
											<div class="col-sm-3">
												<input type="text" id="ca_glcode"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="ca_glcode"
													th:value="${customerRequest?.ca_glcode}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <select
													name="ca_glcode" id="glheadcode"
													th:if="${formmode}=='edit'"
													class="form-control form-control-sm">
													<option value="">SELECT</option>
													<option th:each="city : ${glsh}" th:value="${city.ref_id}"
														th:text="${city.ref_id}"></option>
												</select>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Account Branch Id</label>
											<div class="col-sm-3">
												<input type="text" id="ca_solid" th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_solid}"
													class="form-control form-control-sm" name="ca_solid"
													autocomplete="off" readonly> <input type="text"
													id="ca_solid" th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_solid}"
													class="form-control form-control-sm" name="ca_solid"
													autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Account Branch Name</label>
											<div class="col-sm-3">
												<input type="text" id="branch_desc"
													th:if="${formmode}=='view'"
													class="form-control form-control-sm" name="branch_desc"
													th:value="${customerRequest?.branch_desc}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <input type="text"
													id="branch_desc" th:if="${formmode}=='edit'"
													class="form-control form-control-sm" name="branch_desc"
													th:value="${customerRequest?.branch_desc}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
										</div>

										<div id="Acc_TermDeposit" style="display: none;">
											<div class="row formline mt-2 ">
												<div class="col-sm-2 ">
													<label for="sche_type">Deposit Account No </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value=${customerdata?.depo_actno} maxlength="20"
														id="depo_actno" name="depo_actno" autocomplete="off"
														readonly />

												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Date of Deposits </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${#dates.format(customerdata?.deposit_date, 'dd-MM-yyyy')}"
														maxlength="10" id="deposit_date" name="deposit_date"
														autocomplete="off" readonly />
												</div>

											</div>
											<div class="row formline  mt-2">
												<div class="col-sm-2  ">
													<label for="sche_type">Deposit Amount </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value=${customerdata?.deposit_amt} maxlength="10"
														id="deposit_amt" name="deposit_amt" autocomplete="off"
														readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Currency </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="currency" name="currency"
														th:value=${customerdata?.currency} autocomplete="off"
														value="SCR" readonly />
												</div>

											</div>
											<div class="row formline  mt-2">
												<div class="col-sm-2  ">
													<label for="sche_type">Deposit Period </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="deposit_period"
														th:value=${customerdata?.deposit_period}
														name="deposit_period" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Maturity Date </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${#dates.format(customerdata?.maturity_date, 'dd-MM-yyyy')}"
														maxlength="13" id="maturity_date" name="maturity_date"
														autocomplete="off" readonly />
												</div>
											</div>

											<div class="row formline  mt-2">
												<div class="col-sm-2  ">
													<label for="sche_type">Rate of Interest</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value=${customerdata?.rate_of_int} maxlength="10"
														id="rate_of_int" name="rate_of_int" autocomplete="off"
														readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Interest Amount </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="int_amt" name="int_amt"
														th:value=${customerdata?.int_amt} autocomplete="off"
														readonly />
												</div>

											</div>
											<div class="row formline  mt-2">
												<div class="col-sm-2  ">
													<label for="sche_type">Compounding Factor </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="compounding_factor"
														name="compounding_factor" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Maturity Amount </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${#dates.format(customerdata?.maturity_date, 'dd-MM-yyyy')}"
														maxlength="13" id="maturity_amt" name="maturity_amt"
														autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline  mt-2">
												<div class="col-sm-2  ">
													<label for="sche_type">Deposit Type </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="deposit_type"
														th:value=${customerdata?.deposit_type} name="deposit_type"
														autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Frequency</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="13" id="frequency" name="frequency"
														th:value=${customerdata?.frequency} autocomplete="off"
														readonly />
												</div>
												<div class="col-sm-1">
													<!-- Button to open modal -->
													<button type="button" class="btn btn-primary"
														style="margin-left: -25px; font-size: 13px"
														onclick="getRepaymentDetails(this)" data-toggle="modal"
														data-target="#myleasecal">Deposit Flow</button>
												</div>
											</div>
										</div>
										<div id="Acc_LeaseAccount" style="display: none;">
											<div class="row formline  mt-2">
												<div class="col-sm-2  ">
													<label for="sche_type">Loan Account No </label>
												</div>
												<div class="col-sm-3">
													<input type="text" id="loan_accountno"
														name="loan_accountno"
														th:value="${loanDetails?.loan_accountno}"
														class="form-control form-control-sm" maxlength="20"
														autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Date of Loan</label>
												</div>
												<div class="col-sm-3">
													<input type="text" id="date_of_loan" name="date_of_loan"
														th:value="${#dates.format(loanDetails?.date_of_loan, 'dd-MM-yyyy')}"
														class="form-control form-control-sm" maxlength="10"
														autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline mt-2">

												<div class="col-sm-2  ">
													<label for="sche_code">Currency</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${loanDetails?.loan_currency}" maxlength="10"
														id="loan_currency" name="loan_currency" value="SCR"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2 ">
													<label for="sche_type">Interest Rate</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="effective_interest_rate"
														th:value="${loanDetails?.effective_interest_rate}"
														name="effective_interest_rate" autocomplete="off" readonly />
												</div>

											</div>
											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_type">Loan Sanctioned </label>
												</div>
												<div class="col-sm-3">
													<input type="text"
														th:value="${loanDetails?.loan_sanctioned == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.loan_sanctioned, 0, 'COMMA', 2, 'POINT')}"
														class="form-control form-control-sm" maxlength="20"
														id="loan_sanctioned" oninput="setOutstanding(this)"
														name="loan_sanctioned" autocomplete="off" readonly />

												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Loan Period </label>
												</div>
												<div class="col-sm-3">
													<input type="number"
														onchange="calculateMonthlyRepayment();calculatePercentage(this)"
														class="form-control form-control-sm" maxlength="13"
														th:value="${loanDetails?.loan_period}" id="loan_period"
														name="loan_period" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_code">Margin %</label>
												</div>
												<div class="col-sm-3">
													<input type="text" oninput="calculateDrawingLimit(this)"
														th:value="${loanDetails?.margin_limit}"
														class="form-control form-control-sm" maxlength="10"
														id="margin_limit" name="margin_limit" autocomplete="off"
														readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2 ">
													<label for="sche_type">Drawing Limit </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${loanDetails?.drawing_limit == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.drawing_limit, 0, 'COMMA', 2, 'POINT')}"
														maxlength="10" id="drawing_limit" name="drawing_limit"
														autocomplete="off" readonly="readonly" />
												</div>
											</div>
											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_type">Outstanding </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="loan_outstanding"
														th:value="${loanDetails?.loan_outstanding == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.loan_outstanding, 0, 'COMMA', 2, 'POINT')}"
														name="loan_outstanding" autocomplete="off"
														readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Disbursement </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${loanDetails?.disbursement == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.disbursement, 0, 'COMMA', 2, 'POINT')}"
														maxlength="10" id="disbursement" name="disbursement"
														autocomplete="off" readonly />
												</div>
											</div>

											<div class="row formline mt-2">
												<div class="col-sm-2  ">
													<label for="sche_type">Repayment Terms</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="repayment_terms" name="repayment_terms"
														autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2  ">
													<label for="sche_type">Recovery Method </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="recovery_method"
														th:value="${loanDetails?.recovery_method}"
														name="recovery_method" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_code">Expiry date </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="expiry_date" name="expiry_date"
														th:value="${#dates.format(loanDetails?.expiry_date, 'dd-MM-yyyy')}"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Remarks </label>
												</div>
												<div class="col-sm-3">
													<input type="text"
														onkeyup="this.value = this.value.toUpperCase();handleIn(this)"
														class="form-control form-control-sm" maxlength="13"
														id="la_remarks" name="la_remarks" autocomplete="off"
														readonly="readonly" />
												</div>
												<div class="col-sm-1">
													<!-- Button to open modal -->
													<button type="button" class="btn btn-primary"
														onclick="calculateDTI()"
														style="margin-left: -25px; font-size: 13px"
														data-toggle="modal" data-target="#myaccModal">DTI
														Validation</button>
												</div>
											</div>



											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<h5
														style="color: #00008B; font-size: 16px; font-weight: bold">Repayment
														Details</h5>
												</div>


											</div>



											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_type">Installment ID</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${paymentDetails?.inst_id}" id="inst_id"
														name="inst_id" autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Installment Start Date</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														th:value="${#dates.format(paymentDetails?.inst_start_dt, 'dd-MM-yyyy')}"
														maxlength="10" id="inst_start_dt" name="inst_start_dt"
														autocomplete="off" readonly="readonly" />
												</div>

											</div>
											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_type">No of Installment</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="no_of_inst" name="no_of_inst"
														th:value="${paymentDetails?.no_of_inst}"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Cap At Maturity ? </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="maturity_flg" name="maturity_flg"
														autocomplete="off" readonly="readonly" />
												</div>
											</div>
											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_type">Principal Installment Freq</label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="inst_freq" name="inst_freq"
														th:value="${paymentDetails?.inst_freq}" autocomplete="off"
														readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Interest Installment Freq </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="interest_frequency"
														name="interest_frequency" autocomplete="off"
														th:value="${paymentDetails?.interest_frequency}"
														readonly="readonly" />
												</div>

											</div>
											<div class="row formline mt-2">
												<div class="col-sm-2 ">
													<label for="sche_type">Installment Amount </label>
												</div>
												<div class="col-sm-3">
													<input type="text" class="form-control form-control-sm"
														maxlength="10" id="inst_amount" name="inst_amount"
														th:value="${paymentDetails?.inst_amount == 0 ? '0.00' :#numbers.formatDecimal(paymentDetails?.inst_amount, 0, 'COMMA', 2, 'POINT')}"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Installment (%) </label>
												</div>
												<div class="col-sm-3">
													<input type="text"
														onkeyup="this.value = this.value.toUpperCase();handleIn(this)"
														class="form-control form-control-sm" maxlength="13"
														th:value="${paymentDetails?.inst_pct}" id="inst_pct"
														name="inst_pct" autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1">
													<!-- Button to open modal -->
													<button type="button" class="btn btn-primary"
														style="margin-left: -25px;"
														onclick="getRepaymentDetails(this)" data-toggle="modal"
														data-target="#myleasecal">Schedule</button>
												</div>
											</div>





										</div>

									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">IDENTIFICATION</h6>
									</div>
									<div class="card-body">
										<div class="row formline">
											<label class="col-sm-2">National ID </label>
											<div class="col-sm-3">
												<input type="text" id="ca_idenditification_number"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${customerRequest?.ca_idenditification_number}"
													name="ca_idenditification_number"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <input type="text"
													id="ca_idenditification_number"
													class="form-control form-control-sm"
													th:if="${formmode}=='edit'"
													th:value="${customerRequest?.ca_idenditification_number}"
													name="ca_idenditification_number"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off">
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Issue Date </label>
											<div class="col-sm-3">
												<input type="text" id="ca_issue_date"
													class="form-control form-control-sm" name="ca_issue_date"
													th:if="${formmode}=='view'"
													th:value="${#dates.format(customerRequest?.ca_issue_date, 'dd-MM-yyyy')}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly> <input type="text"
													id="ca_issue_date" class="form-control form-control-sm"
													name="ca_issue_date" th:if="${formmode}=='edit'"
													th:value="${#dates.format(customerRequest?.ca_issue_date, 'dd-MM-yyyy')}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off">
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Passport No </label>
											<div class="col-sm-3">
												<input type="text" id="ca_passport_number"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_passport_number}"
													th:if="${formmode}=='view'"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_passport_number" autocomplete="off" readonly>
												<input type="text" id="ca_passport_number"
													class="form-control form-control-sm"
													th:value="${customerRequest?.ca_passport_number}"
													th:if="${formmode}=='edit'"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_passport_number" autocomplete="off">
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Expiry Date</label>
											<div class="col-sm-3">
												<input type="text" id="ca_expiry_date"
													class="form-control form-control-sm"
													th:if="${formmode}=='view'"
													th:value="${#dates.format(customerRequest?.ca_expiry_date, 'dd-MM-yyyy')}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_expiry_date" autocomplete="off" readonly>
												<input type="text" id="ca_expiry_date"
													class="form-control form-control-sm"
													th:if="${formmode}=='edit'"
													th:value="${#dates.format(customerRequest?.ca_expiry_date, 'dd-MM-yyyy')}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_expiry_date" autocomplete="off">
											</div>
										</div>
									</div>

								</div>

								<label></label>
								<div class="row formline"></div>
								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">OTHER DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="col-sm-3">
											<div class="form-group ">
												<span class="col-sm-2 control-label" style="color: black;">Non-Resident<span
													style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_non_resident"
													style="margin-left: 20px"
													th:value="${customerRequest?.ca_non_resident}"
													name="ca_non_resident"> <font>Yes</font> <input
													type="radio" id="ca_non_resident" name="ca_non_resident"
													th:value="${customerRequest?.ca_non_resident}"
													style="margin-left: 20px;"><font>No</font>
											</div>
											<div class="form-group ">
												<span class="col-sm-2 control-label" style="color: black;">Staff
													Indicator<span style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_staff_indicator"
													style="margin-left: 19px"
													th:value="${customerRequest?.ca_staff_indicator}"
													name="ca_staff_indicator"><font>Yes</font><input
													type="radio" id="ca_staff_indicator"
													name="ca_staff_indicator"
													th:value="${customerRequest?.ca_staff_indicator}"
													style="margin-left: 20px;"><font>No</font>

											</div>
											<div class="form-group ">

												<span class="col-sm-2 control-label" style="color: black;">Trade
													Finance<span style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_trdfin"
													style="margin-left: 20px"
													th:value="${customerRequest?.ca_trdfin}" name="ca_trdfin"><font>Yes</font><input
													type="radio" id="ca_trdfin" name="ca_trdfin"
													th:value="${customerRequest?.ca_trdfin}"
													style="margin-left: 20px;"><font>No</font>

											</div>
											<div class="form-group ">
												<span class="col-sm-2 control-label" style="color: black;">Minor
													Indicator<span style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_minor_indicator"
													style="margin-left: 13px" name="ca_minor_indicator"><font>Yes</font><input
													type="radio" id="ca_minor_indicator"
													name="ca_minor_indicator" style="margin-left: 20px;"><font>No</font>

											</div>
										</div>

									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">DOCUMENT DETAILS</h6>
									</div>
									<div class="card-body">

										<div id="myModaldoc" class="modaldoc" style="display: none">
											<div class="modal-contentdoc">
												<span class="closedoc" id="closeModaldoc"
													onclick=closeDoc(this)>&times;</span>
												<div id="popup1" class="overlay "
													style="z-index: 1001; display: flex; justify-content: center; align-items: center;">
													<div class="popupw-img">
														<a class="imageclosedoc" href="#"></a>
														<div class="card-bodydoc">
															<div id="imgCapture11"></div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div style="background-color: #eeeeee;">
											<table class="table  table-bordered  table-hover table-sm"
												style="table-layout: fixed; width: 100%; font-size: initial;">
												<tr>
													<td><b>Document Type</td>
													<td><b>Document Code</b></td>
													<td><b>Document Description</b></td>
													<td><b>Place of issue</b></td>
													<td><b>Unique Id</b></td>
													<td><b>Issue Date</b></td>
													<td><b>Expiry Date</b></td>
													<td><b>Document View</b></td>
												</tr>
												<tbody id="dataTables">
													<tr th:each="Doocument : ${DocumentList}">

														<td th:text="${Doocument?.document_type}"
															class="rowDataField" style="width: 150px;">Address</td>
														<td th:text="${Doocument?.document_code}"
															class="rowDataField" style="width: 120px;">ADD001</td>
														<td th:text="${Doocument?.document_type_desc}"
															class="rowDataField" style="width: 160px;">Passport</td>
														<td th:text="${Doocument?.place_of_issue}"
															class="rowDataField" style="width: 120px;">Madurai</td>
														<td th:text="${Doocument?.unique_id}" class="rowDataField"
															style="width: 120px;">D324234234</td>
														<td th:text="${Doocument?.issue_date}"
															class="rowDataField" style="width: 120px;">18-JUN-2018</td>
														<td th:text="${Doocument?.expiry_date}"
															class="rowDataField" style="width: 120px;">15-JUN-2023</td>
														<td><i class="fa fa-info-circle" aria-hidden="true"
															onclick="show1(this)" id="openModaldoc"
															th:attr="data-doc_type=${Doocument?.unique_id}"
															style='font-size: 20px; color: DodgerBlue; width: 50px; margin-left: 30px'
															data-toggle="modal" data-target=".bd-example-modal-lg"></i>
														</td>
														<td th:text="${Doocument?.file_name}" class="rowDataField"
															style="width: 100px;" hidden></td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">SIGNATURE DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="panel panel-default"
											style="background-color: #eeeeee;">
											<table class="" id="sign"
												style="margin-bottom: 0px; font-size: initial; border: none; width: 100%">
												<tr>
													<td style="text-align: center;">Name: <input
														type="text"
														style="border: none; outline: none; background-color: transparent; margin-left: 20px; width: 150px;"
														id="ca_first_name"
														th:value="${customerRequest?.ca_first_name}"
														th:if="${formmode}=='view'" readonly />
													</td>

													<td rowspan="2" style="text-align: center">Signature:
														<div id="imgCapture1" style="border: 1px solid #ccc;"
															height="60" width="30"></div>
														<div style="display: none; margin-left: 55px;"
															id="signature">
															<input id="sign" type="file" th:if="${formmode}=='view'"
																readonly />
														</div>
													</td>
												</tr>
											</table>
										</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card chn">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">CUSTOMER CHECKS</h6>
									</div>
									<div class="card-body">
										<div>
											<div class="row formline"
												style="font-size: 13px; font-weight: 500;">
												<span>1.Duplicate List</span>
											</div>
											<div class="col-sm-2"></div>
											<div class="row formline"
												style="font-size: 13px; padding: 10px;">
												<span>No Result found on Customer Check</span>

											</div>
										</div>
										<div class="row formline"
											style="font-size: 13px; font-weight: 500;">
											<span>2.Black List</span>
										</div>
										<div class="col-sm-2"></div>
										<div class="row formline"
											style="font-size: 13px; padding: 10px;">
											<span>No Result found on Customer Check</span>
										</div>
										<div class="row formline"
											style="font-size: 13px; font-weight: 500;">
											<span>3.Negative List</span>
										</div>
										<div class="col-sm-2"></div>
										<div class="row formline"
											style="font-size: 13px; padding: 10px;">
											<span>No Result found on Customer Check</span>

										</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card  chn">
									<div class="card-body">
										<input type="checkbox" id="aofcheck" checked>&nbsp;&nbsp;Upload
										Account Opening Form
									</div>
								</div>
							</form>

							<!-- Main Form -->





							<div class="card-footer text-center mt-3">

								<!-- <button type="button" class="btn btn-xs btn-primary p-2"
									th:if="${customerRequest?.status != 'APPROVED'}" id="btnHome"
									onclick="approveclick();">Approve</button>
								<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnSubmit" onclick="RejectAcc();">Reject</button>
								<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnBack" onclick="holdfin();">Hold</button>
								<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnBack" onclick="Back();">Back</button> -->
								<button type="button" class="btn btn-xs btn-primary p-2"
									th:if="${formmode}=='edit'" id="btnSubmit"
									onclick="CustSubmit();">Submit</button>
								<button type="button" class="btn btn-xs btn-primary p-2"
									th:if="${formmode}=='view'" id="btnSubmit" onclick="onaof();">View
									AOF</button>
								<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnBack" onclick="Back();">Back</button>

							</div>
						</div>


					</div>


				</div>



			</div>
		</div>
	</div>
	<!---------------------Document Details-------------------------->

	<div id="myModaldoc" class="modaldoc" style="display: none">
		<div class="modal-contentdoc">
			<span class="closedoc" id="closeModaldoc" onclick=closeDoc(this)>&times;</span>
			<div id="popup1" class="overlay "
				style="z-index: 1001; display: flex; justify-content: center; align-items: center;">
				<div class="popupw-img">
					<a class="imageclosedoc" href="#"></a>
					<div class="card-bodydoc">
						<div id="imgCapture11"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal" id="myaccModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" data-backdrop="false"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-scrollable custom-modal"
			role="document">
			<!-- Custom class added here -->
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="myModalLabel">DTI- DEBT TO INCOME
						RATIO</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" style="overflow-y: auto;">
					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="borrower_name">Borrower Name</label>
						</div>
						<div class="col-sm-3">
							<input type="text" id="borrower_name"
								th:value="${customerRequest?.ca_first_name}"
								class="form-control form-control-sm bg-white border border-dark"
								maxlength="10" autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="constitution">Constitution</label>
						</div>
						<div class="col-sm-3">
							<input type="text" id="constitution"
								th:value="${customerRequest?.la_customer_type}"
								class="form-control form-control-sm bg-white border border-dark"
								maxlength="10" autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="month_income">Monthly Income</label>
						</div>
						<div class="col-sm-3">
							<input type="text" id="month_income"
								th:value="${customerRequest?.monthly_income}"
								class="form-control form-control-sm bg-white border border-dark"
								autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="monthly_repayment">Monthly Repayment</label>
						</div>
						<div class="col-sm-3">
							<input type="text" id="monthly_repayment"
								class="form-control form-control-sm bg-white border border-dark"
								autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-3 ml-2">
							<label for="date_to_income" style="font-size: 14px"><strong>DEBT
									TO INCOME </strong></label>
						</div>
						<!-- <div class="col-sm-3">
                        <button type="button" class="btn btn-primary" onclick="calculateDTI()">Calculate DTI</button>
                    </div> -->
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="dti_ratio" style="font-size: 14px"><strong>DTI
									Ratio = Monthly Repayment / Monthly Income x 100</strong></label>
						</div>
						<div class="col-sm-3">
							<input type="text" id="dti_ratio" name="dti_ratio"
								class="form-control form-control-sm bg-white border border-dark"
								readonly />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="dti_status" style="font-size: 14px"><strong>Status:</strong></label>
						</div>
						<div class="col-sm-3">
							<span id="dti_status"
								class="form-control form-control-sm bg-white border border-dark"
								style="border: none; background: transparent;"></span>
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-3 ml-2">
							<label for="date_to_income" style="font-size: 14px"><strong>NOTE:</strong></label>
						</div>
						<div class="col-sm-3">
							<label for="date_to_income" style="font-size: 14px"><strong>35%
									Favorable </strong></label><br> <label for="date_to_income"
								style="font-size: 14px"><strong>36% to 49%
									Adequate </strong></label>
						</div>
					</div>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<script>
	var modal = document.getElementById("myModal");

	// Get the button that opens the modal
	var btn = document.getElementById("Draw_signature");

	// Get the <span> element that closes the modal
	var span = document.getElementsByClassName("close")[0];

	// When the user clicks the button, open the modal 
	btn.onclick = function () {
		modal.style.display = "block";
	}

	// When the user clicks on <span> (x), close the modal
	span.onclick = function () {
		modal.style.display = "none";
	}

	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function (event) {
		if (event.target == modal) {
			modal.style.display = "none";
		}
	}
</script>

	<script>
	function onaof() {
		var appl_ref_no = document.getElementById("appl_ref_no").value;
		location.href = 'CustomerProfile?formmode=view1&appl_ref_no=' + appl_ref_no;
	}
	
 function myFunction() {
	    // This function will be executed when the page is loaded.
	    var appl_ref_no = document.getElementById("appl_ref_no1").value;
	    alert(appl_ref_no);

	    $.ajax({
	        type: 'get',
	        url: './api/getimages?appl_ref_no=' + appl_ref_no,
	        success: function (response) {
	            alert(response);

	            // Define or import the base64ToUint8Array function here
	            function base64ToUint8Array(base64String) {
	                // Implementation of the conversion goes here
	            }
	            const base64String = response;
	            const uint8Array = base64ToUint8Array(base64String);

	            const blob = new Blob([uint8Array]);

	            const imageUrl = URL.createObjectURL(blob);
	            const img = document.createElement("img");

	            // Commented out, since you are not using 'img.src' here
	            // img.src = imageUrl;

	            alert("------------------" + imageUrl);

	            var targetKilopixels = 500; // Desired kilopixels
	            // Call the 'resizeImage' function and handle its result
	            resizeImage(imageUrl, targetKilopixels, function (resizedImageUrl) {
	                alert("Resized Image URL: " + resizedImageUrl);
	                // Use the resized image URL as needed (e.g., display or save it)
	                img.src = resizedImageUrl; // Set the image source
	                img.style.width = "200px";
	                img.style.height = "100px";
	                var element = document.getElementById("nithya");
	                element.appendChild(img);
	            });
	        }
	    });

	    alert('The page has finished loading!');
	}

	function resizeImage(imageUrl, targetKilopixels, callback) {
	    var img = new Image();
	    alert("Hi A Fn");

	    
	        alert("Onload Fn");

	        // Calculate the current kilopixels
	        var currentKilopixels = (img.width * img.height) / 1000;
	        // Calculate the ratio needed to achieve the target kilopixels
	        var ratio = Math.sqrt(targetKilopixels / currentKilopixels);
	        // Calculate new dimensions
	        var newWidth = Math.floor(img.width * ratio);
	        var newHeight = Math.floor(img.height * ratio);
	        // Create a canvas to draw the resized image
	        var canvas = document.createElement('canvas');
	        canvas.width = newWidth;
	        canvas.height = newHeight;
	        // Draw the resized image on the canvas
	        var ctx = canvas.getContext('2d');
	        ctx.drawImage(img, 0, 0, newWidth, newHeight);
	        // Get the data URL of the resized image
	        var resizedImageUrl = canvas.toDataURL(imageUrl); // Change format if needed
	        // Use the resized image URL as needed (e.g., display or save it)
	        alert('Resized Image URL:' + resizedImageUrl);
	        callback(resizedImageUrl); // Pass the resized URL to the callback
	 
	    // Set the image URL
	    img.src = imageUrl;
	}

    </script>

	<script>// Get references to HTML elements
var canvas = document.getElementById('signature-pad');
var clearButton = document.getElementById('clear-button');
var saveButton = document.getElementById('save-button');

// Initialize the signature pad
var signaturePad = new SignaturePad(canvas, {
    backgroundColor: 'rgb(255, 255, 255)', // Background color of the signature pad
    penColor: 'rgb(0, 0, 0)' // Pen color
});

// Clear the signature pad when the "Clear" button is clicked
clearButton.addEventListener('click', function () {
    signaturePad.clear();
});

// Save the signature as an image when the "Save" button is clicked
   saveButton.addEventListener('click', function () {
    if (signaturePad.isEmpty()) {
        alert("Please provide a signature first.");
    } else {
        // Convert the signature to an image (PNG format)
        var signatureImage = signaturePad.toDataURL();
       // alert(signatureImage);
        
        document.getElementById("sigurl").innerHTML=signatureImage;
       // alert( document.getElementById("sigurl").value);
        // You can now send the signatureImage to your server or use it as needed
        console.log(signatureImage);
        closeSignaturePad1();
        // Create a new <img> element
        var imgElement = document.createElement('img');

        // Set the src attribute of the <img> element to the Data URL
        imgElement.src = signatureImage;
        imgElement.id = 'vjImage';
        // Append the <img> element to a container in your HTML, e.g., a <div> with the id "signatureContainer"
        if(document.getElementById('imageContainer').value == null && document.getElementById('imageContainer').value == ""){
        document.getElementById('imageContainer').appendChild(imgElement);
        alert(document.getElementById('imageContainer').value);
        
        }else{
        	//alert("huh")
        	 var divElement = document.getElementById('imageContainer');

             // Set the innerHTML property to an empty string to remove the content
             divElement.innerHTML = '';
             document.getElementById('imageContainer').appendChild(imgElement);
             
             event.preventDefault();
        }
       
      //  submite(signatureImage);
       
        
    }
});


function closeSignaturePad1() {
	var container = document.getElementById('myModal');
	container.style.display = 'none';
	//alert(signaturePad.toDataURL());
	event.preventDefault();
}

function convertSignatureToImage() {
    // Get the Data URL from the SignaturePad
    var signatureImage = signaturePad.toDataURL();

    // Create a new <img> element
    var imgElement = document.createElement('img');

    // Set the src attribute of the <img> element to the Data URL
    imgElement.src = signatureImageDataURL;

    // Append the <img> element to a container in your HTML, e.g., a <div> with the id "signatureContainer"
    document.getElementById('imageContainer').appendChild(imgElement);
    //alert(document.getElementById('imageContainer').value)
  //  alert(imgElement);
    
}
</script>

	<script>

	var signaturePad;

	function openSignaturePad() {
		var container = document.getElementById('signaturePadContainer');
		container.style.display = 'block';

		var canvas = document.getElementById('signaturePad');
		signaturePad = new SignaturePad(canvas);			
	}

	function saveSignature() {
		if (signaturePad.isEmpty()) {
			alert('Please provide a signature.');
		} else {
			var signatureData = signaturePad.toDataURL();
			// Do something with the signature data, e.g., save it to a database
			console.log(signatureData);

			closeSignaturePad();
		}
	}

	function clearSignature() {
		signaturePad.clear();
	}

	function closeSignaturePad() {
		var container = document.getElementById('signaturePadContainer');
		container.style.display = 'none';
	}
	var photo;
	
	function uploadImage() {
		//alert("1")
        var input = document.getElementById('barathphoto1');
        var file = input.files[0];
       // alert("2")
        if (file) {
        	//alert("3")
            var reader = new FileReader();

            reader.onload = function (e) {
                var imageData = e.target.result;

                // Display the image preview
                var imagePreview = document.getElementById('imagePreview');
                imagePreview.src = imageData;
                photo=imageData;
                imagePreview.style.display = 'block';
            };
           // alert("4")
            reader.readAsDataURL(file);
        } else {
            alert('Please select an image.');
        }
    }
</script>


	<script>
function  signsubmit(a){  
	
	var appl_ref_no = document.getElementById("appl_ref_no").value;
	const appl_ref_no1 = encodeURIComponent(appl_ref_no); 
	alert(appl_ref_no1)
	var signatureFile = document.getElementById("barathsign");
//	alert(signature);
	
	const signaturefile1 = encodeURIComponent(signatureFile); 
	//alert(signaturefile1)
	
	var imageElement = document.getElementById('barathphoto1');
	
	var canvas = document.createElement('canvas');
	var dataURL = canvas.toDataURL('image/png');
//    var dataURL = imageElement.src;''
	const dataURL1 = encodeURIComponent(photo); 
	//alert(dataURL1)
	//alert("1")
	var imgElement = document.querySelector('#vjImage');
	//alert(imgElement)
	var srcURL1l;
	//alert("2s")
	if(imgElement == null || imgElement == "" || imgElement == "undefined"){
	//	var srcURL = imgElement.src;
		srcURL1 = 'undefined'; 
	}else{
		//alert("enter")
		var srcURL = imgElement.src;
		srcURL1 = encodeURIComponent(srcURL); 
	}
	
	//alert("2")
/* 	
	const base64Data = srcURL.split(',')[1];
	const binaryData = atob(base64Data);
	// Create a Uint8Array from the binary data
	const arrayBuffer = new Uint8Array(binaryData.length);
	for (let i = 0; i < binaryData.length; i++) {
	  arrayBuffer[i] = binaryData.charCodeAt(i);
	}
	//alert("Value alerted  -"+arrayBuffer)
	signatureFile = new Blob([arrayBuffer], { type: 'image/png' });
	//alert("Sign  -"+signatureFile)
	
	var photoFile = document.getElementById("barathphoto1"); */
	//alert(photoFile)
	
	// Replace with the actual value of the photo
//	var qwerty=document.getElementById("sigurl");
	//alert("+++++++"+qwerty);

	
	$.ajax({
		
		type: 'POST',
		url: './api/flagss?appl_ref_no='+appl_ref_no1+'&srcURL='+srcURL1+'&dataURL='+dataURL1,
		success: function (response) {
			//alert("Done");
			alert(response);
			window.location.reload();
		}
	});
}




/* function  photosubmit(a){  
	
	var appl_ref_no = document.getElementById("appl_ref_no").value;
	const appl_ref_no1 = encodeURIComponent(appl_ref_no); 
	alert(appl_ref_no1)
	var signatureFile = document.getElementById("barathsign");
//	alert(signature);
	
	const signaturefile1 = encodeURIComponent(signatureFile); 
	alert(signaturefile1)
	
	var imageElement = document.getElementById('barathphoto1');
	
	var canvas = document.createElement('canvas');
	var dataURL = canvas.toDataURL('image/png');
//    var dataURL = imageElement.src;
	const dataURL1 = encodeURIComponent(photo); 
	alert(dataURL1)
	var imgElement = document.querySelector('#vjImage');
	var srcURL = imgElement.src;
	const srcURL1 = encodeURIComponent(srcURL); 
	alert(srcURL1)
	
	const base64Data = srcURL.split(',')[1];
	const binaryData = atob(base64Data);
	// Create a Uint8Array from the binary data
	const arrayBuffer = new Uint8Array(binaryData.length);
	for (let i = 0; i < binaryData.length; i++) {
	  arrayBuffer[i] = binaryData.charCodeAt(i);
	}
	//alert("Value alerted  -"+arrayBuffer)
	signatureFile = new Blob([arrayBuffer], { type: 'image/png' });
	//alert("Sign  -"+signatureFile)
	
	var photoFile = document.getElementById("barathphoto1");
	//alert(photoFile)
	
	// Replace with the actual value of the photo
	var qwerty=document.getElementById("sigurl");
	//alert("+++++++"+qwerty);

	
	$.ajax({
		type: 'POST',
		url: './api/photoflagss?appl_ref_no='+appl_ref_no1+'&srcURL='+srcURL1+'&dataURL='+dataURL1,
		success: function (response) {
			alert("Done");
			alert(response);
		}
	});
} */

	 </script>

	<script>
	 
	 function nextPage(){

		 const numberElement = document.getElementById("numberone");
		 const currentElement = document.getElementById("numberone").textContent;
		 const totalvalue = document.getElementById("totalvalue").textContent;
		 alert(totalvalue)
		 alert(currentElement)
		if(currentElement==totalvalue){
			alert("The value is same")
		}else{
		alert("next")
		  if (currentPage < formPages.length - 1) {
              saveFormData(); // Save the current form data
              currentPage++;
              updateFormFields();
          }
	        let currentNumber = currentElement;
	            currentNumber++;
	            numberElement.textContent = currentNumber;
		}   
	}
	 
	 
	 function saveFormData() {
         const pageData = formPages[currentPage];
         pageData.ca_saluation = document.getElementById('ca_saluation').value;
         pageData.firstname = document.getElementById('firstname').value;
         pageData.middlename = document.getElementById('middlename').value;
         pageData.shortname = document.getElementById('shortname').value;
          pageData.lastname= document.getElementById('lastname').value ;
          pageData.fullname= document.getElementById('fullname').value;
          pageData.ca_occupation1=document.getElementById('ca_occupation1').value;
          pageData.ca_gender=document.getElementById('ca_gender').value ;
          pageData.ca_martial_staus= document.getElementById('ca_martial_staus').value;
          pageData.DOB=document.getElementById('DOB').value;
          pageData.ca_address_type=document.getElementById('ca_address_type').value;
          pageData.houseno=document.getElementById('houseno').value;
          pageData.streetno=document.getElementById('streetno').value;
          pageData.streetname=document.getElementById('streetname').value;
          pageData.ca_country=document.getElementById('ca_country').value;
          pageData.ca_state=document.getElementById('ca_state').value;
          pageData.ca_city=document.getElementById('ca_city').value;
          pageData.postalcode=document.getElementById('postalcode').value;
          pageData.addvalfrom=document.getElementById('addvalfrom').value;
          pageData.ca_nationality=document.getElementById('ca_nationality').value;
          pageData.ca_country_of_birth=document.getElementById('ca_country_of_birth').value;
          pageData.emailid=document.getElementById('emailid').value;
          pageData.mobno=document.getElementById('mobno').value;
          pageData.phoneno=document.getElementById('phoneno').value;

          pageData.schemetype= document.getElementById('schemetype').value;
          pageData.schemecode=document.getElementById('schemecode').value;
          pageData.currency=document.getElementById('currency').value;
          pageData.glheadcode=document.getElementById('glheadcode').value;
          pageData.prisolid=document.getElementById('prisolid').value;
          pageData.nationalid=document.getElementById('nationalid').value ;
          pageData.issuedate=document.getElementById('issuedate').value;
          pageData.passno=document.getElementById('passno').value;
          pageData.expdate=document.getElementById('expdate').value;
          pageData.Nonresi=document.getElementById('Nonresi').value ;
          pageData.Staffindi=document.getElementById('Staffindi').value;
          pageData.trdfin=document.getElementById('trdfin').value ;
          pageData.monindi= document.getElementById('monindi').value ;

          pageData.docType0= document.getElementById('docType0').value ;
          pageData.docCode0=document.getElementById('docCode0').value ;
          pageData.docDesc0=document.getElementById('docDesc0').value ;
          pageData.uniqId0=document.getElementById('uniqId0').value ;
          pageData.docIssPlace0=document.getElementById('docIssPlace0').value ;
          pageData.docIssDate0=document.getElementById('docIssDate0').value ;
          pageData.docExpDate0=document.getElementById('docExpDate0').value ;
          pageData.file0=document.getElementById('file0').value ;
          pageData.docType1=document.getElementById('docType1').value;
          pageData.docCode1=document.getElementById('docCode1').value ;
          pageData.docDesc1=document.getElementById('docDesc1').value ;
          pageData.uniqId1=document.getElementById('uniqId1').value;
          pageData.docIssPlace1=document.getElementById('docIssPlace1').value;
          pageData.docIssDate1=document.getElementById('docIssDate1').value ;
          pageData.docExpDate1=document.getElementById('docExpDate1').value ;
          pageData.file1=document.getElementById('file1').value;

          pageData.imgaccesscode= document.getElementById('imgaccesscode').value ;
          pageData.group=document.getElementById('group').value;
          pageData.keyword=document.getElementById('keyword').value ;
          pageData.signatureown=document.getElementById('signatureown').src ;
          pageData.barathphoto=document.getElementById('barathphoto').src ;
     }
	 const form = document.getElementById('myForm');
     const prevButton = document.getElementById('prevBtn');
     const nextButton = document.getElementById('nextBtn');

     let currentPage = 0;
     const formPages = [
         { ca_saluation: '', firstname: '', middlename: '', shortname: '',lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
             streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
             schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
             docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
             docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
             imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' },
         { ca_saluation: '', firstname: '', middlename: '', shortname: '',lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
                 streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
                 schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
                 docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
                 docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
                 imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' },
         { ca_saluation: '', firstname: '', middlename: '', shortname: '' ,lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
                     streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
                     schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
                     docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
                     docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
                     imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' },
          { ca_saluation: '', firstname: '', middlename: '', shortname: '' ,lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
                         streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
                         schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
                         docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
                         docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
                         imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' },
         { ca_saluation: '', firstname: '', middlename: '', shortname: '' ,lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
                             streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
                             schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
                             docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
                             docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
                             imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' },
        { ca_saluation: '', firstname: '', middlename: '', shortname: '' ,lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
                                 streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
                                 schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
                                 docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
                                 docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
                                 imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' },
         { ca_saluation: '', firstname: '', middlename: '', shortname: '' ,lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
                                     streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
                                     schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
                                     docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
                                     docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
                                     imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' },
        { ca_saluation: '', firstname: '', middlename: '', shortname: '' ,lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
                                         streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
                                         schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
                                         docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
                                         docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
                                         imgaccesscode: '',group: '',keyword: '',signatureown: '',barathphoto: '' }
     ];

	 function updateFormFields() {
         const pageData = formPages[currentPage];
        /* 
         lastname: '',fullname: '',ca_occupation1: '',ca_gender: '',ca_martial_staus: '',DOB: '', ca_address_type: '',houseno: '',streetno: '',
         streetname: '',ca_country: '',ca_state: '',ca_city: '',postalcode: '',addvalfrom: '',ca_nationality: '',ca_country_of_birth: '',emailid: '',mobno: '',phoneno: '',
         schemetype: '',schemecode: '',currency: '',glheadcode: '',prisolid: '',nationalid: '',issuedate: '',passno: '',expdate: '',Nonresi: '',Staffindi: '',trdfin: '',monindi: '',
         docType0: '',docCode0: '',docDesc0: '',uniqId0: '',docIssPlace0: '',docIssDate0: '',docExpDate0: '',file0: '',
         docType1: '',docCode1: '',docDesc1: '',uniqId1: '',docIssPlace1: '',docIssDate1: '',docExpDate1: '',file1: '',
         imgaccesscode: '',group: '',keyword: '',photo: '',photo1: ''
          */

         document.getElementById('ca_saluation').value = pageData.ca_saluation;
         document.getElementById('firstname').value = pageData.firstname;
         document.getElementById('middlename').value = pageData.middlename;
         document.getElementById('shortname').value = pageData.shortname;
         document.getElementById('lastname').value = pageData.lastname;
         document.getElementById('fullname').value = pageData.fullname;
         document.getElementById('ca_occupation1').value = pageData.ca_occupation1;
         document.getElementById('ca_gender').value = pageData.ca_gender;
         document.getElementById('ca_martial_staus').value = pageData.ca_martial_staus;
         document.getElementById('DOB').value = pageData.DOB;
         document.getElementById('ca_address_type').value = pageData.ca_address_type;
         document.getElementById('houseno').value = pageData.houseno;
         document.getElementById('streetno').value = pageData.streetno;
         document.getElementById('streetname').value = pageData.streetname;
         document.getElementById('ca_country').value = pageData.ca_country;
         document.getElementById('ca_state').value = pageData.ca_state;
         document.getElementById('ca_city').value = pageData.ca_city;
         document.getElementById('postalcode').value = pageData.postalcode;
         document.getElementById('addvalfrom').value = pageData.addvalfrom;
         document.getElementById('ca_nationality').value = pageData.ca_nationality;
         document.getElementById('ca_country_of_birth').value = pageData.ca_country_of_birth;
         document.getElementById('emailid').value = pageData.emailid;
         document.getElementById('mobno').value = pageData.mobno;
         document.getElementById('phoneno').value = pageData.phoneno;

         document.getElementById('schemetype').value = pageData.schemetype;
         document.getElementById('schemecode').value = pageData.schemecode;
         document.getElementById('currency').value = pageData.currency;
         document.getElementById('glheadcode').value = pageData.glheadcode;
         document.getElementById('prisolid').value = pageData.prisolid;
         document.getElementById('nationalid').value = pageData.nationalid;
         document.getElementById('issuedate').value = pageData.issuedate;
         document.getElementById('passno').value = pageData.passno;
         document.getElementById('expdate').value = pageData.expdate;
         document.getElementById('Nonresi').value = pageData.Nonresi;
         document.getElementById('Staffindi').value = pageData.Staffindi;
         document.getElementById('trdfin').value = pageData.trdfin;
         document.getElementById('monindi').value = pageData.monindi;

         document.getElementById('docType0').value = pageData.docType0;
         document.getElementById('docCode0').value = pageData.docCode0;
         document.getElementById('docDesc0').value = pageData.docDesc0;
         document.getElementById('uniqId0').value = pageData.uniqId0;
         document.getElementById('docIssPlace0').value = pageData.docIssPlace0;
         document.getElementById('docIssDate0').value = pageData.docIssDate0;
         document.getElementById('docExpDate0').value = pageData.docExpDate0;
         document.getElementById('file0').value = pageData.file0;
         document.getElementById('docType1').value = pageData.docType1;
         document.getElementById('docCode1').value = pageData.docCode1;
         document.getElementById('docDesc1').value = pageData.docDesc1;
         document.getElementById('uniqId1').value = pageData.uniqId1;
         document.getElementById('docIssPlace1').value = pageData.docIssPlace1;
         document.getElementById('docIssDate1').value = pageData.docIssDate1;
         document.getElementById('docExpDate1').value = pageData.docExpDate1;
         document.getElementById('file1').value = pageData.file1;

         document.getElementById('imgaccesscode').value = pageData.imgaccesscode;
         document.getElementById('group').value = pageData.group;
         document.getElementById('keyword').value = pageData.keyword;
         document.getElementById('signatureown').src = pageData.signatureown;
         document.getElementById('barathphoto').src = pageData.barathphoto;
     }
	 
	 function prevPage() {
		 

		 const numberElement = document.getElementById("numberone");
		 const currentElement = document.getElementById("numberone").textContent;
		 alert(currentElement)
			if(currentElement=="1"){
				alert("The value is same")
			}else{
		 alert("back")
         if (currentPage > 0) {
             saveFormData(); // Save the current form data
             currentPage--;
             updateFormFields();
         }
	        let currentNumber = currentElement;
	            currentNumber--;
	            numberElement.textContent = currentNumber;
		 

     }
	 }
	 
	 </script>

	<script>
	function holdfin(){
		//alert("hold")
		var rec_no= document.getElementById('rec_no').value;
		//alert(rec_no)
	    var ApprefNO = document.getElementById("gooom").value;
		//alert(ApprefNO)
		$.ajax({
			type: 'POST',
			url: './CustomerDetailsCorrection?formmode=Holdfin&rec_no='	+ rec_no + "&ApprefNO=" + ApprefNO,
			success: function (response) {
				//alert(response);
				alert("Reference No: "+ApprefNO+" has been moved to Hold List ");
				location.href = 'Dashboard';
			}
		}); 
		
	}
	</script>
	<script>
    function toggleAccountFields() {
        var schemeType = document.getElementById("ca_schemetype").value;
        var termDepositDiv = document.getElementById("Acc_TermDeposit");
        var leaseAccountDiv = document.getElementById("Acc_LeaseAccount");

        if (schemeType === "TD") {
            termDepositDiv.style.display = "block";
            leaseAccountDiv.style.display = "none";
        } else if (schemeType === "LA") {
            leaseAccountDiv.style.display = "block";
            termDepositDiv.style.display = "none";
        } else {
            // Hide both if scheme type is neither TD nor LA
            termDepositDiv.style.display = "none";
            leaseAccountDiv.style.display = "none";
        }
    }

    // Call this function on page load to set the initial visibility
    document.addEventListener("DOMContentLoaded", function() {
        toggleAccountFields();
    });
</script>
	<script type="text/javascript">
function calculateMonthlyRepayment() {
    // Fetch the values directly from the input fields
    var loanSanctioned = parseFloat(document.getElementById('loan_sanctioned').value.replace(/,/g, '')); // Remove commas for proper parsing
    var loanPeriod = parseFloat(document.getElementById('loan_period').value);

    // Validate the values and calculate the monthly repayment
    if (!isNaN(loanSanctioned) && !isNaN(loanPeriod) && loanPeriod > 0) {
        var monthlyRepayment = loanSanctioned / loanPeriod;
        document.getElementById('monthly_repayment').value = monthlyRepayment.toFixed(2); // Show in 2 decimal places
    } else {
        document.getElementById('monthly_repayment').value = ""; // Clear the field if invalid values
        console.log("Invalid loan sanctioned or loan period");
    }
}
 


function calculateDTI() {
    // Get values of monthly repayment and monthly income
    var monthlyRepayment = parseFloat(document.getElementById('monthly_repayment').value) || 0;
    var monthlyIncome = parseFloat(document.getElementById('month_income').value) || 0;

    // Validate inputs to make sure monthly income is greater than 0
    if (monthlyIncome > 0) {
        // Calculate DTI ratio (Monthly Repayment / Monthly Income) * 100
        var dtiRatio = (monthlyRepayment / monthlyIncome) * 100;

        // Display DTI ratio in the DTI Ratio field, rounded to 2 decimal places
        document.getElementById('dti_ratio').value = dtiRatio.toFixed(2) + '%';

        // Determine the status based on DTI ratio
        var statusMessage;
        if (dtiRatio <= 35) {
            statusMessage = "Favorable";
        } else if (dtiRatio >= 36 && dtiRatio <= 49) {
            statusMessage = "Adequate";
        } else {
            statusMessage = "Not Favorable"; // You can adjust this message as needed
        }

        // Display the status message in a separate field or alert
        document.getElementById('dti_status').textContent = statusMessage; // Update this line based on how you want to display it
    } else {
        // Show error message if income is invalid
        document.getElementById('dti_ratio').value = 'Invalid input';
        alert('Please enter a valid Monthly Income greater than 0.');
        document.getElementById('dti_status').textContent = ""; // Clear status message if input is invalid
    }
}
</script>


</body>

</html>