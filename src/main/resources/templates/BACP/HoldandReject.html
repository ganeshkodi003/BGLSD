<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<!--
	CREATED BY : NITHYAPRIYA
	DATE       : 22-09-24
	PURPOSE    : BACP - HOLD AND REJECT
	VERSION    : 01
-->
<!--
	CREATED BY : SURIYA
	DATE       : 18-11-24
	PURPOSE    :UPDATED CODE
	VERSION    : 02
-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css"
	href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/font-awesome/5.9.0/css/all.min.css"
	th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/jquery-ui/1.12.1/jquery-ui.min.css"
	th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/datatables/1.10.19/css/jquery.dataTables.min.css"
	th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
<link rel="shortcut icon" th:href="@{/favicon.ico}" type="image/x-icon">
<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon">

<script src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js"
	th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
<script src="/webjars/popper.js/1.14.7/umd/popper.min.js"
	th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
<script src="/webjars/jquery/3.4.1/jquery.min.js"
	th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.min.js"
	th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>

<script src="/webjars/jquery-form/4.2.2/jquery.form.min.js"
	th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>

<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
	th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>

<script src="/webjars/datatables/1.10.19/js/jquery.dataTables.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
<script
	src="/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>




<style>
.chn {
	box-shadow: 0 8px 20px 0 rgba(0, 0, 0, 0.2);
}
.custom-modal {
	max-width: 80%; /* Set width as 80% of the screen width */
	max-height: 500%; /* Set height as 80% of the screen height */
}

.custom-modal .modal-content {
	height: 500%; /* Make sure the content fills the full height */
}

.modal {
	display: none;
	/* Hidden by default */
	position: absolute;
	/* Stay in place */
	z-index: 1;
	/* Sit on top */
	padding-top: 100px;
	/* Location of the box */
	left: 0;
	top: 0;
	width: 100%;
	/* Full width */
	height: 100%;
	/* Full height */
	overflow: auto;
	/* Enable scroll if needed */
	background-color: rgb(0, 0, 0);
	/* Fallback color */
	background-color: rgba(0, 0, 0, 0.4);
	/* Black w/ opacity */
}

.modal-header {
	padding: 2px 16px;
	background-color: #BBC3CB;
	color: balck;
}

.modal-body {
	padding: 2px 16px;
}

.modal-footer {
	padding: 2px 16px;
	background-color: #BBC3CB;
	color: black;
}
/* Modal Content */
.modal-content {
	background-color: #fefefe;
	margin: auto;
	padding: 20px;
	border: 1px solid #888;
	width: 80%;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
		rgba(0, 0, 0, 0.19);
	-webkit-animation-name: animatetop;
	-webkit-animation-duration: 0.4s;
	animation-name: animatetop;
	animation-duration: 0.4s
}

#imgCapture11 img {
	transition: box-shadow 0.3s ease; /* Smooth transition */
}

#imgCapture11 img:hover {
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
	/* Adjust values for the shadow */
}

.modaldoc {
	display: none;
	position: fixed;
	top: 0;
	left: 30%;
	width: 50%;
	height: 100%;
	/*  background-color: rgba(0, 0, 0, 0.7); */
	z-index: 1;
}

.modal-contentdoc {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background-color: #fff;
	border: 1px solid #888;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
	text-align: center;
}

.closedoc {
	position: absolute;
	top: 10px;
	right: 10px;
	font-size: 30px;
	cursor: pointer;
	color: white;
}

body {
	font-size: 0.8rem;
}

.btn {
	line-height: 0.5rem;
}

.table-bordered td, .table-bordered th {
	font-size: smaller;
}

.container-manager {
	width: 83.5%;
	padding-right: 15px;
	padding-left: 15px;
	margin-right: auto;
	margin-left: 17.3%;
	margin-top: 80px;
	margin-top: 80px;
}

.table .thead-light th {
	color: #495057;
	background-color: #e9ecef;
	border-color: #dee2e6;
	width: 23px;
}

.tablinks {
	background-color: #f2f2f2;
	color: #000;
}

.tablinks.active {
	background-color: #007bff;
	color: #fff;
}

.tab {
	overflow: hidden;
	border: 1px solid #ccc;
	background-color: #f1f1f1;
}

.scroll {
	max-height: 60vh;
	overflow-y: scroll;
	overflow-x: hidden;
}

.tab button {
	background-color: inherit;
	float: left;
	border: none;
	outline: none;
	cursor: pointer;
	padding: 14px 16px;
	transition: 0.3s;
	font-size: 17px;
}

.tab button:hover {
	background-color: #ddd;
}

.tabcontent {
	display: none;
	padding: 6px 12px;
	border: 0px solid #ccc;
	border-top: none;
}

#myPieChart {
	width: 100px;
	height: 100px;
}
</style>
<style>
.modal-pass {
	background-color: #fefefe;
	margin: 15% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 40%;
	height: 25%;
	margin-left: 400PX;
	margin-right: auto;
	border-radius: 10px;
	box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);
	font-family: Arial, sans-serif;
}

.close {
	color: red;
	font-size: 28px;
	font-weight: bold;
}

.close:hover, .close:focus {
	color: black;
	text-decoration: none;
	cursor: pointer;
}
.filterable .filters input[disabled] {
	background-color: transparent;
	border: none;
	cursor: auto;
	box-shadow: none;
	padding: 0;
	height: auto;
}

</style>
<style>
.password-info {
	visibility: hidden;
	width: 320px;
	background-color: #333;
	color: #fff;
	text-align: left;
	border-radius: 10px;
	padding: 10px;
	position: absolute;
	z-index: 1;
	top: calc(100% + 10px);
	left: 50%;
	transform: translateX(-50%);
	opacity: 0;
	transition: opacity 0.3s;
}

input:hover+.password-info {
	visibility: visible;
	opacity: 0.8;
}
</style>
<script>
function imagecor() {
	var appl_ref_no = document.getElementById("gooom").value;
	//alert(appl_ref_no);

	$.ajax({
		type : 'get',
		url : '/BGLS/getimagesonecor?appl_ref_no=' + appl_ref_no,
		success : function(response) {
			//alert(response);

			// Clear previous images
			var element = document.getElementById("photoCapture1");
			element.innerHTML = ''; // Clear previous images

			// Iterate over the response array
			response.forEach(function(base64String) {
				// Handle the case where the response element is an error message
				if (base64String.startsWith("No records found")
						|| base64String
								.startsWith("Photo content is null")) {
				//	alert(base64String); // Alert the error message
					return; // Skip to the next iteration
				}

				// Convert Base64 string to Blob
				const uint8Array = base64ToUint8Array(base64String);
				const blob = new Blob([ uint8Array ]);
				const imageUrl = URL.createObjectURL(blob);

				// Create an image element and set its properties
				const img = document.createElement("img");
				img.src = imageUrl;
				img.style.width = "100px";
				img.style.height = "70px";
				img.style.marginBottom = "10px";
				// Append the image to the element
				element.appendChild(img);
				console.log(img);
			});
		}
	});
}
function onimagecorsign() {
	var appl_ref_no = document.getElementById("gooom").value;
//	alert(appl_ref_no + " sign");

	$.ajax({
		type : 'get',
		url : '/BGLS/getimagescor?appl_ref_no='
				+ encodeURIComponent(appl_ref_no),
		success : function(response) {
			console.log("AJAX Response:", response);
		//	alert(response)// Log the entire response

			// Clear previous images if needed
			var element1 = document.getElementById("imgCapture1");
			element1.innerHTML = '';

			// Check if the response indicates no records found
			if (response.length === 1
					&& response[0].startsWith("No records found")) {
				//alert(response[0]);
				return; // Exit if no records found
			}

			// Iterate over each Base64 string in the response
			response.forEach(function(base64String) {
				// Validate the Base64 string format
				if (base64String.startsWith("data:image/")) {
					// Create image element
					const imgelement = document.createElement("img");
					imgelement.src = base64String;
					imgelement.style.width = "200px"; // Set width
					imgelement.style.height = "70px"; // Set height
					imgelement.style.marginBottom = "10px";
					imgelement.style.backgroundColor = "white";
					// Append the image element to the container
					element1.appendChild(imgelement);
					console.log(imgelement); // Log the image element
				} else {
					console.error("Invalid base64 string received:",
							base64String);
				}
			});
		},
		error : function(xhr, status, error) {
			console.error("AJAX Error: ", status, error);
			alert("Failed to load images. Please try again.");
		}
	});
}
document.addEventListener("DOMContentLoaded", function() {

	imagecor();
	onimagecorsign();
});


</script>

<!-- <script>
	

	$(function() {

		$("#disableDate, #disableTilDate, #passExDate, #acctexpiryDate")
				.datepicker({
					dateFormat : "dd-mm-yy",
					changeMonth : true,
					changeYear : true
				});

		$("#disableDate").on(
				"change",
				function() {
					var disableDate = $(this).datepicker("getDate");
					if (disableDate) {
						$("#disableTilDate").datepicker("option", "minDate",
								disableDate);
						$("#passExDate").datepicker("option", "minDate",
								disableDate);
						$("#acctexpiryDate").datepicker("option", "minDate",
								disableDate);
					}
				});

		$("#disableTilDate").on("change", function() {
			var disableDate = $("#disableDate").datepicker("getDate");
			var disableTilDate = $(this).datepicker("getDate");

			if (!disableDate) {
				alert("Please choose Disable Date first.");
				$(this).val("");
			} else if (disableTilDate && disableTilDate < disableDate) {
				alert("Disable Til Date cannot be earlier than Disable Date.");
				$(this).val("");
			}
		});
	});
</script> -->

<script>

 window.addEventListener('load', function() {
      openForm();
    });

    var isOpen = false; // Flag to track if the form is open

    function openForm() {
     if (!isOpen) { // Only open if not already open
    document.getElementById("popupForm").style.display = "block";
    document.body.classList.add("disable-interactions"); // Disable interactions with other elements
    isOpen = true;
      }
    }

    function closeForm() { 
       document.getElementById("popupForm").style.display = "none";
  document.body.classList.remove("disable-interactions"); // Re-enable interactions
  isOpen = false; // Reset the flag when the form is close// Reset the flag when the form is closed
    }	
    </script>

<script>

		$(document).ready(function () {
			$(".CH2").show();
			$("#chl").text("Web");
			$(".CH3").hide();
			$("#listtype").on("change", function () {
				if ($("#listtype").val() == "Web") {
					$(".CH2").show();
					$("#chl").text("Web");
					$(".CH3").hide();
				} else {
					$(".CH3").show();
					$("#chl").text("Mobile");
					$(".CH2").hide();
				}
			});

		});

		function setphoto(a) {

			var filesSelected = document.getElementById("photoupload" + a).files;
			var getfile = document.getElementById("photoupload" + a).value;
			var ext = getfile.match(/\.(.+)$/)[1].toLowerCase();
			var options = ['jpg', 'jpeg', 'png'];
			if (options.indexOf(ext) > -1) {
				if (filesSelected.length > 0) {
					var fileToLoad = filesSelected[0];

					var fileReader = new FileReader();

					fileReader.onload = function (e) {
						var base64 = e.target.result; // <--- data: base64
						$("#photoCapture" + a).attr("src", base64);
						$("#photoCapture" + a).show();
						// var encodedString = btoa(base64);
						$("#photo" + a).html(base64);
					}
					fileReader.readAsDataURL(fileToLoad);
				}

			} else {

				alert('This Type(jpg,jpeg,png) of File Only Allowed');
				getfile = '';
			}

		}


	


	</script>

<script th:inline="javascript">
		/*<![CDATA[*/
		$(document)
			.ready(
				function () {
					
					$('.filterable .btn-filter')
						.click(
							function () {
								var $panel = $(this).parents(
									'.filterable'), $filters = $panel
										.find('.filters input'), $tbody = $panel
											.find('.table tbody');
								if ($filters.prop('disabled') == true) {
									$filters
										.prop('disabled', false);
									$filters.first().focus();
								} else {
									$filters.val('').prop(
										'disabled', true);
									$tbody.find('.no-result')
										.remove();
									$tbody.find('tr').show();
								}
							});

					$('.filterable .filters input')
						.keyup(
							function (e) {
								/* Ignore tab key */
								var code = e.keyCode || e.which;
								if (code == '9')
									return;
								/* Useful DOM data and selectors */
								var $input = $(this), inputContent = $input
									.val().toLowerCase(), $panel = $input
										.parents('.filterable'), column = $panel
											.find('.filters th')
											.index($input.parents('th')), $table = $panel
												.find('.table'), $rows = $table
													.find('tbody tr');
								console.log($input);
								/* Dirtiest filter function ever ;) */
								var $filteredRows = $rows
									.filter(function () {
										var value = $(this)
											.find('td').eq(
												column)
											.text()
											.toLowerCase();
										console.log(value);
										return value
											.indexOf(inputContent) === -1;
									});
								/* Clean previous no-result if exist */
								$table.find('tbody .no-result')
									.remove();
								/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
								$rows.show();
								$filteredRows.hide();
								/* Prepend no-result row if all rows are filtered */
								if ($filteredRows.length === $rows.length) {
									$table
										.find('tbody')
										.prepend(
											$('<tr class="no-result text-center"><td colspan="'
												+ $table
													.find('.filters th').length
												+ '">No result found</td></tr>'));
								}
							});
				});


		function home() {
			location.href = '/BACP/Dashboard'
		}


		function list() {
			location.href = 'HoldandReject?formmode=list';
		}

		function back() {
			window.history.back();
		}
		function Back() {
			window.history.back();
		}
		function backs() {
			location.href = 'HoldandReject?formmode=list';
		}


		function adduser(a) {
			var userid = a.getAttribute("data-appl_ref_no");
			location.href = 'HoldandReject?formmode=view1a&appl_ref_no=' + userid;

			/* var appl_ref_no = a.getAttribute("data-appl_ref_no");

			location.href = 'HoldandReject?formmode=edit&appl_ref_no='
				+ appl_ref_no */

		}

		function editHoldandRejct(a) {


			var appl_ref_no = a.getAttribute("data-appl_ref_no");
			//alert(appl_ref_no);
			location.href = 'HoldandReject?formmode=edit&appl_ref_no='
				+ appl_ref_no

		}

		/* function listradioclick(a) {
			alert("hi");

			var appl_ref_no = a.getAttribute("data-appl_ref_no");

			location.href = 'HoldandReject?formmode=view&appl_ref_no='
				+ appl_ref_no

		} */
		function listradioclick(a) {

			var appl_ref_no = a.getAttribute("data-appl_ref_no");
			//alert(appl_ref_no)
			var account_type = a.getAttribute("data-account_type");
			//alert(account_type)
			var rec_no = a.getAttribute("data-rec_no");
			//alert(rec_no)
			if(account_type === 'CORPORATE'){
				location.href = 'HoldRejectCorporate?formmode=viewcorp&appl_ref_no=' + appl_ref_no +'&rec_no='+rec_no;
			}else if(account_type === 'JOINT ACCOUNT'){
				location.href = 'HoldRejectJoint?formmode=viewJoint&appl_ref_no=' + appl_ref_no +'&rec_no='+rec_no;
			}else{
				location.href = 'HoldandReject?formmode=view&appl_ref_no=' + appl_ref_no;
			}

			
		}

		$.ajax({
			url: "HoldandReject",
			data: passportno,
			dataType: 'json',
			type: 'POST',
			async: true,
			success: function (res) {
				console.log(res.userdata);

				if (res.userdata.length > 0) {
					$('#dublist').show();
					for (var i = 0; i < res.userdata.length; i++) {

						$('#dublist').append(
							'<tr><td>' + res.userdata[i].split("#")[0]
							+ '</td><td>'
							+ res.userdata[i].split("#")[1]
							+ '</td></tr>');
					}
				} else {
					$('#dublist').hide();
					$("#hedDup").append(
						'<p>No results Found on Customer Checks</p>');

				}
				if (res.userdata1.length > 0) {
					$('#blacklist').show();
					for (var i = 0; i < res.userdata1.length; i++) {

						$('#blacklist').append(
							'<tr><td>' + res.userdata1[i].split("#")[0]
							+ '</td><td>'
							+ res.userdata1[i].split("#")[1]
							+ '</td><td>'
							+ res.userdata1[i].split("#")[2]
							+ '</td><td>'
							+ res.userdata1[i].split("#")[3]
							+ '</td></tr>');
					}
				} else {
					$('#blacklist').hide();
					$("#hedBlack").append(
						'<p>No results Found on Customer Checks</p>');

				}
				if (res.userdata2.length > 0) {

					$('#nagativelist').show();
					for (var i = 0; i < res.userdata2.length; i++) {

						$('#nagativelist').append(
							'<tr><td>' + res.userdata2[i].split("#")[0]
							+ '</td><td>'
							+ res.userdata2[i].split("#")[1]
							+ '</td><td>'
							+ res.userdata2[i].split("#")[2]
							+ '</td><td>'
							+ res.userdata2[i].split("#")[3]
							+ '</td></tr>');
					}
				} else {
					$('#nagativelist').hide();
					$("#hedNegative").append(
						'<p>No results Found on Customer Checks</p>');

				}

			}
		});
	</script>


<script>
		$(document).ready(function () {
			$(".CH2").show();
			$("#chl").text("Web");
			$(".CH3").hide();
			$("#listtype").on("change", function () {
				if ($("#listtype").val() == "Web") {
					$(".CH2").show();
					$("#chl").text("Web");
					$(".CH3").hide();
				} else {
					$(".CH3").show();
					$("#chl").text("Mobile");
					$(".CH2").hide();
				}
			});

		});

		$("#ca_issue_date").datepicker({
			changeMonth: true,
			changeYear: true,
			dateFormat: "dd-mm-yy",
			onSelect: function (selected) {
				var dt = $(this).datepicker('getDate');
				dt.setDate(dt.getDate());
				//$("#ca_expiry_date").datepicker("option", "minDate", dt);

			}
		});

		$("#ca_expiry_date").datepicker({
			changeMonth: true,
			changeYear: true,
			minDate: 0,
			dateFormat: "dd-mm-yy",
			onSelect: function (selected) {
				var dt = new Date(selected);
				dt.setDate(dt.getDate() - 1);
				//$("#period_start_date").datepicker("option", "maxDate", dt);
			}
		});

		function clickPhoto(a) {

			var appl_ref_no = a.getAttribute("data-appl_ref_no");
			$
				.ajax({

					type: 'get',
					url: "./getUserBlobImage/" + userid,
					success: function (response) {
						$('#imageshow').modal('show');
						document.getElementById("doc_image").src = "data:image/png;base64,"
							+ response;

					}

				});

		}

	</script>

<script>
		function base64ToUint8Array(base64) {

			const binaryString = window.atob(base64);

			const length = binaryString.length;

			const uint8Array = new Uint8Array(length);

			for (let i = 0; i < length; i++) {
				uint8Array[i] = binaryString.charCodeAt(i);
			}

			return uint8Array;
		}

		function onimageon() {
		    var appl_ref_no = document.getElementById("gooom").value; 
		    $.ajax({
		        type: 'get',
		        url: '/BGLS/getimages?appl_ref_no=' + appl_ref_no,
		        success: function (response) {
				
		          // alert(response)
		                const base64String = response;

		                const uint8Array = base64ToUint8Array(base64String);

		                const blob = new Blob([uint8Array]);

		                const imageUrl = URL.createObjectURL(blob);
		                const imgelement = document.createElement("img");
		                imgelement.src = imageUrl;
		           
		                imgelement.style.width = "100px";
		                imgelement.style.height = "100px";
		                var element1 = document.getElementById("imgCapture1");
		                element1.appendChild(imgelement);
		               
		                console.log(img);
		            }
		         
		        
		    });
		 

		};


		function onimages() {
			var appl_ref_no = document.getElementById("appl_ref_no").value;
			//alert(appl_ref_no); 
			$
				.ajax({
					type: 'get',
					url: './api/getimages?appl_ref_no=' + appl_ref_no,

					success: function (response) {
						//Â Â  alert(response); 
						const base64String = response;
						const uint8Array = base64ToUint8Array(base64String);

						const blob = new Blob([uint8Array]);

						const imageUrl = URL.createObjectURL(blob);
						const img = document.createElement("img");
						img.src = imageUrl;
						img.style.width = "200px";
						img.style.height = "100px";
						var element = document.getElementById("imgCapture1");
						element.appendChild(img);
						console.log(img);

					}
				});
		};

		function onaof() {
			var appl_ref_no = document.getElementById("appl_ref_no").value;
			location.href = 'CustomerProfile?formmode=view1&appl_ref_no=' + appl_ref_no;
		}
		





		function fndashboard() {
			location.href = 'Dashboard'
		}

	</script>

<script th:inline="javascript">


		function clickthis() {

			$('#placelist').empty();



			$('#placelist').empty();
			// Your existing code

			$.ajax({
				url: 'entry_userss',
				type: 'GET',
				dataType: 'json',
				// Change to 'json' as you are expecting JSON response
				// Your other settings...

				success: function (response) {



					const b = response; // Store the parsed JSON response in variable b

					var trHTML = ''
					$.each(b, function (key, value) {
						trHTML += '<tr id=' + value.appl_ref_no + '>'
							+ '<td></td>'

							+ '<td style="text-align:left;">' + value.appl_ref_no + '</td>'
							+ '<td style="text-align:left;">' + value.appl_ref_no + '</td>'
							+ '<td style="text-align:left;">' + value.ca_acct_type + '</td>'
							+ '<td style="text-align:left;">' + value.ca_preferred_name + '</td>'  // Corrected field name
							+ '<td style="text-align:left;">' + value.ca_idenditification_number + '</td>'  // Corrected field name
							+ '<td style="text-align:left;">' + value.status + '</td>'  // Corrected field name
							+ '<td style="width: 34px;"><input type="radio" id="btnclick' + value.appl_ref_no + '" data-appl_ref_no="' + value.appl_ref_no + '" onclick="listradioclick(this)" /></td>'

							+ '</tr>';
					});
					$('#placelist').empty().append(trHTML); // Use $('#placelist') to update the table

					// Show the parsed object as a string in the alert
					// Assuming you want to show the first object in the array

					// Rest of your code
				}
			});
		}




		function clickthi() {

			$('#placelist').empty();



			$('#placelist').empty();
			// Your existing code

			$.ajax({
				url: 'system_userss',
				type: 'GET',
				dataType: 'json', // Change to 'json' as you are expecting JSON response
				// Your other settings...

				success: function (response) {

					const b = response; // Store the parsed JSON response in variable b

					var trHTML = ''
					$.each(b, function (key, value) {
						trHTML += '<tr id=' + value.appl_ref_no + '>'
							+ '<td></td>'

							+ '<td style="text-align:left;">' + value.appl_ref_no + '</td>'
							+ '<td style="text-align:left;">' + value.appl_ref_no + '</td>'
							+ '<td style="text-align:left;">' + value.ca_acct_type + '</td>'
							+ '<td style="text-align:left;">' + value.ca_preferred_name + '</td>'  // Corrected field name
							+ '<td style="text-align:left;">' + value.ca_idenditification_number + '</td>'  // Corrected field name
							+ '<td style="text-align:left;">' + value.status + '</td>'  // Corrected field name
							+ '<td style="width: 34px;"><input type="radio" id="btnclick' + value.appl_ref_no + '" data-appl_ref_no="' + value.appl_ref_no + '" onclick="listradioclick(this)" /></td>'

							+ '</tr>';
					});
					$('#placelist').empty().append(trHTML); // Use $('#placelist') to update the table

					// Show the parsed object as a string in the alert
					// Assuming you want to show the first object in the array

					// Rest of your code
				}
			});
		}
		function selectChange() {
			var selectedValue = $('#listtype').val();

			if (selectedValue === "User") {
				clickthis();
			} else if (selectedValue === "Authorizer") {
				clickthi();
			}
		}

		// Bind the click event to all radio buttons with class "radioclick"
		/* function listradioclick(a) {


			var appl_ref_no = a.getAttribute("data-appl_ref_no");


			location.href = 'HoldandReject?formmode=view&appl_ref_no=' + appl_ref_no;
		} */
/* 
		function submitfin() {  //update holdremark

			var appl_ref_no = document.getElementById("appl_ref_no").value;
			var remarks = document.getElementById("remarks").value;
			if (remarks != null) {

				$.ajax({
					type: 'GET',
					url: 'Holdreject?ApprefNO=' + appl_ref_no + "&remarks=" + remarks,
					success: function (response) {
						//alert(response);
						popup.style.display = 'none';
					}
				});
			}
			else {
				alert("Please fill the required field");
			}
		} */
		</script>

<script>

function show1(a) { 
	$("#imgCapture11 img").empty();
	$("#imgCapture11").html("");
	var values = document.getElementById("gooom").value;
	var value1 = a.getAttribute("data-doc_type");
	console.log(values);
	console.log(value1);
	$.ajax({
			type: 'get',
			url: '/BGLS/getproof1?appl_ref_no=' + values +'&doc_type=' +value1,
			success: function (response) {
				const base64String =response;
				const uint8Array = base64ToUint8Array(base64String);
				
				const blob = new Blob([uint8Array]);
				const imageUrl = URL.createObjectURL(blob);
				
				const img = document.createElement("img");
				img.src = imageUrl;
				
				  
				img.style.width = "350px";
				img.style.height = "250px";
				$(document).ready(function () {
					$(function () {
						$('#popup1').css("visibility", "visible");
						$('#popup1').css("opacity", 1);
					});

					$(".imageclose" ).click(function () {
						$('#popup1').css("visibility", "hidden");
						$('#popup1').css("opacity", 0);
					});
				});
				var modaldoc = document.getElementById("myModaldoc");
				modaldoc.style.display = "block";
				var element = document.getElementById("imgCapture11");
				element.appendChild(img);
				console.log(img);
			}
		});

}
		function closeDoc(a){
			var modaldoc = document.getElementById("myModaldoc");
			 modaldoc.style.display = "none";
		}
	</script>

<!-- <script>
	function adduser(a) {
		event.preventDefault();
		location.href = 'userProfile?formmode=add';
	}

	function list() {

		location.href = './assosiateProfile?formmode=list';
	}
</script> -->
<script>
    function toggleAccountFields() {
        var schemeType = document.getElementById("ca_schemetype").value;
        var termDepositDiv = document.getElementById("Acc_TermDeposit");
        var leaseAccountDiv = document.getElementById("Acc_LeaseAccount");

        if (schemeType === "TD") {
            termDepositDiv.style.display = "block";
            leaseAccountDiv.style.display = "none";
        } else if (schemeType === "LA" || schemeType === "LAEMI") {
            leaseAccountDiv.style.display = "block";
            termDepositDiv.style.display = "none";
        } else {
            // Hide both if scheme type is neither TD nor LA
            termDepositDiv.style.display = "none";
            leaseAccountDiv.style.display = "none";
        }
    }

    // Call this function on page load to set the initial visibility
    document.addEventListener("DOMContentLoaded", function() {
        toggleAccountFields();
    });
</script>
<script>
		
		function view(a) {
			
		var appl_ref_no = a.getAttribute("data-appl_ref_no");
		
		location.href = 'auditEmpanel?formmode=view&appl_ref_no=' + appl_ref_no ;
		}
</script>




<script type="text/javascript">
function formatNumberWithIndianSeparationForOninput(value) {
    if (!value) return '';

    // Remove any existing commas from the input
    value = value.replace(/,/g, '');

    // Split the input into integer and decimal parts
    let [integerPart, decimalPart] = value.split('.');

    // Handle the integer part
    let lastThreeDigits = integerPart.slice(-3);
    let otherDigits = integerPart.slice(0, -3);

    if (otherDigits !== '') {
        lastThreeDigits = ',' + lastThreeDigits;
    }

    let formattedIntegerPart = otherDigits.replace(/\B(?=(\d{2})+(?!\d))/g, ',') + lastThreeDigits;

    // Return the formatted number
    return decimalPart !== undefined ? `${formattedIntegerPart}.${decimalPart}` : formattedIntegerPart;
}

function calculateMonthlyRepayment() {
    // Fetch the values directly from the input fields
    var loanSanctioned = parseFloat(document.getElementById('loan_sanctioned').value.replace(/,/g, '')); // Remove commas for proper parsing
    var loanPeriod = parseFloat(document.getElementById('loan_period').value);

    // Validate the values and calculate the monthly repayment
    if (!isNaN(loanSanctioned) && !isNaN(loanPeriod) && loanPeriod > 0) {
        var monthlyRepayment = (loanSanctioned / loanPeriod).toFixed(2);
        document.getElementById('monthly_repayment').value = formatNumberWithIndianSeparationForOninput(monthlyRepayment);
        
    } else {
        document.getElementById('monthly_repayment').value = ""; // Clear the field if invalid values
        console.log("Invalid loan sanctioned or loan period");
    }
}



function calculateDTI() {
    // Get values of monthly repayment and monthly income
    var monthlyRepayment = parseFloat(document.getElementById('monthly_repayment').value) || 0;
    var monthlyIncome = parseFloat(document.getElementById('month_income').value) || 0;

    // Validate inputs to make sure monthly income is greater than 0
    if (monthlyIncome > 0) {
        // Calculate DTI ratio (Monthly Repayment / Monthly Income) * 100
        var dtiRatio = (monthlyRepayment / monthlyIncome) * 100;

        // Display DTI ratio in the DTI Ratio field, rounded to 2 decimal places
        document.getElementById('dti_ratio').value = dtiRatio.toFixed(2) + '%';

        // Determine the status based on DTI ratio
        var statusMessage;
        if (dtiRatio <= 35) {
            statusMessage = "Favorable";
        } else if (dtiRatio >= 36 && dtiRatio <= 49) {
            statusMessage = "Adequate";
        } else {
            statusMessage = "Not Favorable"; // You can adjust this message as needed
        }

        // Display the status message in a separate field or alert
        document.getElementById('dti_status').textContent = statusMessage; // Update this line based on how you want to display it
    } else {
        // Show error message if income is invalid
        document.getElementById('dti_ratio').value = 'Invalid input';
        alert('Please enter a valid Monthly Income greater than 0.');
        document.getElementById('dti_status').textContent = ""; // Clear status message if input is invalid
    }
}
</script>

</head>
<title>BGLS</title>

<body onload="calculateMonthlyRepayment();">

	<div class="col-sm-2">
		<div th:insert="BGLSHeaderMenu :: header"></div>
	</div>
	<!---------------------CustInquiries List Starts------------------------------------------------------->
	<!-- Start Content-->
	<div class="container-manager">
		<div class="row">


			<div class="col-sm-11 ml-5 mt-2" style="font-size: 0.8rem;">


				<!-- ------------------------------------Approval- List---------------------------------- -->
				<div th:if="${formmode}=='list'">


					<div class="panel panel-primary filterable">

						<div class="card w-100 border panel panel-primary filterable">
							<div class="card-header"
								style="background-color: #e9ecef; height: 50px">
								<div class="float-left">
									<h6 style="font-size: 1.2rem;">HOLD AND REJECT- LIST</h6>
								</div>
								<div class="float-right">

									<button type="button"
										class="btn btn-xs btn-primary btns p-2 border btn-filter">Filter</button>
								</div>
							</div>
							<div class="card-body">



								<div class="table-responsive">
									<table class=" table  table-bordered  table-hover table-sm"
										style="table-layout: fixed; width: 100%;" id="usertable">
										<thead>
											<tr class="filters">
												<th><input type="text"
													class="form-control font-weight-bold bg-white"
													placeholder="Sr No" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold bg-white"
													placeholder="Customer Group" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold bg-white"
													placeholder="App Ref No" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold bg-white"
													placeholder="Account Type" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold bg-white"
													placeholder="Customer Name" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold bg-white"
													placeholder="National Id" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold bg-white"
													placeholder="Status" disabled></th>
												<th style="font-size: 15px">Select</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="customerrequest, iterator : ${HoldandReject}">

												<td style="font-size: 14px" th:text="${iterator.index +1}"></td>
												<td style="font-size: 14px"
													th:text="${customerrequest.ca_customer_type}">456</td>
												<td style="font-size: 14px"
													th:text="${customerrequest.appl_ref_no}">TEST</td>

												<!-- <td 
																	th:text="${customerrequest.ca_address_validation_form}"></td> -->
												<td style="font-size: 14px"
													th:text="${customerrequest.ca_acct_type}">l</td>
												<td style="font-size: 14px"><span
													th:if="${customerrequest.ca_customer_type == 'CORPORATE'}"
													th:text="${customerrequest.corporateName}">Corporate
														Name</span> <span
													th:if="${customerrequest.ca_customer_type == 'RETAIL'}"
													th:text="${customerrequest.ca_preferred_name}">Preferred
														Name</span><span
													th:if="${customerrequest.ca_customer_type == 'RETAIL'}"
													th:text="${customerrequest.ca_full_name_1}">Full
														Name</span></td>
												<td style="font-size: 14px"
													th:text="${customerrequest.ca_idenditification_number}">l</td>
												<td style="font-size: 14px"
													th:text="${customerrequest.status}">j</td>
												<td align="center"><input type="radio"
													th:attr="data-appl_ref_no = ${customerrequest?.appl_ref_no},
                        data-account_type = ${customerrequest?.ca_acct_type},
                        data-rec_no = ${customerrequest?.rec_no}"
													onclick="listradioclick(this);"
													th:id="${customerrequest.appl_ref_no}" name="btnradio">
												</td>

											</tr>
										</tbody>
									</table>
								</div>

							</div>
							<div class="card-footer text-center"
								style="background-color: #e9ecef">


								<button class="btn btn-primary p-2" onclick="Home();">Home</button>
								<button class="btn btn-primary p-2" onclick="Back();">Back</button>

							</div>
						</div>

					</div>


				</div>

				<!-- ------------------------------------Approval- view---------------------------------- -->
				<div th:if="${formmode}=='view'">


					<div class="card w-100 border">

						<div class="card-header" style="background-color: #e9ecef;">
							<div class="float-left">
								<h6 style="font-size: 1.2rem;">HOLD AND REJECT - VIEW</h6>

							</div>
							<div class="float-right">
								<!-- <button type="button" class="btn btn-xs btn-primary btns p-2"
									onclick="Home(this)">DashBoard</button> -->

							</div>

							<div class="float-right">
								<font Style="font-size: 13px; color: #3C6EAC"> <B>
										App Ref No : </B>
								</font> <input type="text"
									Style="font-size: 13px; background-color: transparent; border: none; outline-style: none; box-shadow: none; width: 100px;"
									id="appl_ref_no" th:value="${customerRequest?.appl_ref_no}" />|
								<font Style="font-size: 13px; color: #3C6EAC"> <B
									style="">Record No : </B></font> <input type="text"
									style="border: none; background-color: transparent; outline-style: none; box-shadow: none; width: 31px; font-size: 14px;"
									id="rec_no" th:value="${customerRequest?.rec_no}" readonly />
								<input hidden th:value="${customerRequest?.appl_ref_no}"
									type="text" id="gooom" name="gooom">

							</div>

						</div>
						<div class="card-body">


							<form class=" p-2 " action="#" name="customerhold" method="post"
								autocomplete="off" id="mainForm">
								<!-- <p class="mt-2 ml-3">
									<b>Record No 1/1</b>
								</p> -->
								<div class="row pl-3">

									<div class="card float-right mt-2" style="width: 100%">
										<div class="card-header">
											<div class="float-left">

												<h6 style="color: black; margin: 0;">MINIMAL DATA</h6>
											</div>

										</div>
										<div class="card-body ">
											<input hidden th:value="${customerRequest?.appl_ref_no}"
												type="text" id="gooom" name="gooom">

											<div class="row formline"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label class="col-sm-2">Primary Branch </label>
												<div class="col-sm-2">
													<input type="text" id="ca_solid"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_solid}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_solid" autocomplete="off" readonly> <span
														id="merchant_corp_name_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Branch Name </label>
												<div class="col-sm-2">
													<input type="text" id="branch_desc"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.branch_desc}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="branch_desc" autocomplete="off" readonly> <span
														id="merchant_corp_name_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label class="col-sm-2">Customer Group </label>
												<div class="col-sm-2">
													<input type="text" id="ca_customer_type"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_customer_type}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_customer_type" autocomplete="off" readonly>
													<span id="merchant_corp_name_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">First Name </label>
												<div class="col-sm-2">
													<input type="text" id="ca_first_name"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_first_name}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_first_name" autocomplete="off" readonly>
													<span id="merchant_corp_name_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label class="col-sm-2">Middle Name </label>
												<div class="col-sm-2">
													<input type="text" id="mid_name"
														th:value="${customerRequest?.mid_name}"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm bg-white border border-dark"
														name="mid_name" autocomplete="off" readonly> <span
														id="merchant_name_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Last Name </label>
												<div class="col-sm-2">
													<input type="text" id="ca_last_name"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_last_name}"
														name="ca_last_name" autocomplete="off" readonly> <span
														id="merchant_addr_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label class="col-sm-2">Short Name </label>
												<div class="col-sm-2">
													<input type="text" id="ca_preferred_name"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_preferred_name}"
														name="ca_preferred_name" autocomplete="off" readonly>
													<span id="merchant_addr_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Full Name </label>
												<div class="col-sm-2">
													<input type="text" id="ca_preferred_name"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_first_name }"
														name="ca_preferred_name" autocomplete="off" readonly>
													<span id="merchant_addr_vali" class="reqError"></span>
												</div>
											</div>
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label class="col-sm-2">Date of Birth </label>
												<div class="col-sm-2">
													<input type="text" id="ca_date_of_birth"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${#dates.format(customerRequest?.ca_date_of_birth, 'dd-MM-yyyy')}"
														onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
														name="ca_date_of_birth" autocomplete="off" readonly>
													<span id="merchant_corp_name_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">Mobile Number </label>
												<div class="col-sm-2">
													<div class="input-group">
														<div class="input-group-prepend">
															<input type="text" id="ca_countrycode_1"
																name="ca_countrycode_1"
																th:value="${customerRequest?.ca_countrycode_1}"
																class="form-control form-control-sm bg-white border border-dark"
																value="+975" maxlength="5" style="width: 60px;"
																readonly="readonly" />
														</div>
														<input type="number" id="mobno" name="ca_mobile_number"
															autocomplete="off" maxlength="7"
															th:value="${customerRequest?.ca_mobile_number}"
															class="form-control form-control-sm bg-white border border-dark"
															style="width: 100px;" readonly />
													</div>
												</div>
											</div>
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label class="col-sm-2">Passport Number </label>
												<div class="col-sm-2">
													<input type="text" id="ca_passport_number"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_passport_number}"
														name="ca_passport_number" autocomplete="off" readonly>
													<span id="merchant_addr_vali" class="reqError"></span>
												</div>
												<div class="col-sm-1"></div>
												<label class="col-sm-2">National Id </label>
												<div class="col-sm-2">
													<input type="text" id="ca_idenditification_number"
														onkeyup="this.value = this.value.toUpperCase();"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${customerRequest?.ca_idenditification_number}"
														name="ca_idenditification_number" autocomplete="off"
														readonly> <span id="merchant_addr_vali"
														class="reqError"></span>
												</div>
											</div>
										</div>
									</div>
								
								</div>
								<label></label>
								<div class="
										row formline"></div>
								<div class="card">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">PERSONAL DETAILS</h6>
									</div>
									<div class="card-body ">
										<div class="row formline "
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Customer Type </label>
											<div class="col-sm-2">
												<input type="text" id="la_customer_type"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.la_customer_type}"
													name="la_customer_type" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Cif Id </label>
											<div class="col-sm-2">
												<input type="text" id="cif_id"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.cif_id}" name="cif_id"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Primary Branch </label>
											<div class="col-sm-2">
												<input type="text" id="ca_solid"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_solid}" name="ca_solid"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Branch Name </label>
											<div class="col-sm-2">
												<input type="text" id="branch_desc"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.branch_desc}"
													name="branch_desc" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Salutation </label>
											<div class="col-sm-2">
												<!-- <select id="ca_saluation" name="ca_saluation"
																			th:value="${customerRequest?.ca_saluation}"
																			class="form-control form-control-sm bg-white border border-dark"
																			autocomplete="off" style="width: 100%">
																			<option value="">SELECT</option>
																			<option value="MR"
																				th:selected="${customerRequest?.ca_saluation}=='MR'">
																				MR</option>
																			<option value="MS"
																				th:selected="${customerRequest?.ca_saluation}=='MS'">
																				MS</option>
																		</select> <span id="merchant_city_vali" class="reqError"></span> -->
												<input type="text" id="ca_saluation"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_saluation}"
													onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
													name="ca_saluation" autocomplete="off" readonly> <span
													id="merchant_corp_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">First Name </label>
											<div class="col-sm-2">
												<input type="text" id="ca_first_name"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_first_name}"
													onkeyup="this.value = this.value.toUpperCase(); updateMerName(this.value);"
													name="ca_first_name" autocomplete="off" readonly> <span
													id="merchant_corp_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Middle Name </label>
											<div class="col-sm-2">
												<input type="text" id="mid_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.mid_name}" name="mid_name"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Last Name </label>
											<div class="col-sm-2">
												<input type="text" id="ca_last_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_last_name}"
													name="ca_last_name" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Full Name </label>
											<div class="col-sm-2">
												<input type="text" id="ca_first_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_preferred_name}"
													name="ca_first_name" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Short Name </label>
											<div class="col-sm-2">
												<input type="text" id="ca_preferred_name"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_first_name}"
													name="ca_preferred_name" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Occupation </label>
											<div class="col-sm-2">
												<!-- <select id="merchant_city" name="merchant_city"
																			th:value="${customerRequest?.ca_occupation1}"
																			class="form-control form-control-sm bg-white border border-dark"
																			autocomplete="off" style="width: 100%">
																			<option value="">SELECT</option>
																			<option value="SALARIED"
																				th:selected="${customerRequest?.ca_occupation1}=='SALARIED'">
																				SALARIED</option>
																			<option value="CONTRACT BASED"
																				th:selected="${customerRequest?.ca_occupation1}=='CONTRACT BASED'">
																				CONTRACT BASED</option>
																			<option value="SALES/COMMISSION BASED"
																				th:selected="${customerRequest?.ca_occupation1}=='SALES/COMMISSION BASED'">
																				SALES/COMMISSION BASED</option>
																			<option value="STUDENT"
																				th:selected="${customerRequest?.ca_occupation1}=='STUDENT'">
																				STUDENT</option>
																			<option value="SELF EMPLOYED"
																				th:selected="${customerRequest?.ca_occupation1}=='SELF EMPLOYED'">
																				SELF EMPLOYED</option>
																			<option value="UNEMPLOYED"
																				th:selected="${customerRequest?.ca_occupation1}=='UNEMPLOYED'">
																				UNEMPLOYED</option>
																		</select> <span id="merchant_city_vali" class="reqError"></span> -->
												<input type="text" id="merchant_city"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_occupation1}"
													name="merchant_city" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Gender </label>
											<div class="col-sm-2">
												<!-- <select id="ca_gender" name="ca_gender"
																			th:value="${customerRequest?.ca_gender}"
																			class="form-control form-control-sm bg-white border border-dark"
																			autocomplete="off" style="width: 100%">
																			<option value="">SELECT</option>
																			<option value="MALE"
																				th:selected="${customerRequest?.ca_gender}=='MALE'">
																				MALE</option>
																			<option value="FEMALE"
																				th:selected="${customerRequest?.ca_gender}=='FEMALE'">
																				FEMALE</option>
																			<option value="TRANSGENDER"
																				th:selected="${customerRequest?.ca_gender}=='TRANSGENDER'">
																				TRANSGENDER</option>
																		</select> <span id="merchant_city_vali" class="reqError"></span> -->
												<input type="text" id="ca_gender"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_gender}" name="ca_gender"
													autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Marital Status </label>
											<div class="col-sm-2">
												<!-- <select id="ca_martial_staus" name="ca_martial_staus"
																			th:value="${customerRequest?.ca_martial_staus}"
																			class="form-control form-control-sm bg-white border border-dark"
																			autocomplete="off" style="width: 100%">
																			<option value="">SELECT</option>
																			<option value="SINGLE"
																				th:selected="${customerRequest?.ca_martial_staus}=='SINGLE'">
																				SINGLE</option>
																			<option value="MARRIED"
																				th:selected="${customerRequest?.ca_martial_staus}=='MARRIED'">
																				MARRIED</option>
																			<option value="SEPERATED"
																				th:selected="${customerRequest?.ca_martial_staus}=='SEPERATED'">
																				SEPERATED</option>
																			<option value="WIDOWED"
																				th:selected="${customerRequest?.ca_martial_staus}=='WIDOWED'">
																				WIDOWED</option>
																		</select> <span id="merchant_city_vali" class="reqError"></span> -->
												<input type="text" id="ca_martial_staus"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_martial_staus}"
													name="ca_martial_staus" autocomplete="off" readonly>
												<span id="ca_martial_staus" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Date Of Birth </label>
											<div class="col-sm-2">
												<input type="text" id="ca_date_of_birth"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${#dates.format(customerRequest?.ca_date_of_birth, 'dd-MM-yyyy')}"
													name="ca_date_of_birth" autocomplete="off" readonly>
												<span id="merchant_addr_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Annual Income </label>
											<div class="col-sm-2">
												<input type="text" id="annual_income"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.annual_income}"
													name="annual_income" autocomplete="off" readonly> <span
													id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Monthly Income </label>
											<div class="col-sm-2">
												<input type="text" id="monthly_income"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.monthly_income}"
													name="monthly_income" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Loan Obligations</label>
											<div class="col-sm-2">
												<input type="text" id="loan_obligations"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.loan_obligations}"
													name="loan_obligations" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Family Maintenance</label>
											<div class="col-sm-2">
												<input type="text" id="family_maintenance"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.family_maintenance}"
													name="family_maintenance" autocomplete="off" readonly>
												<span id="merchant_name_vali" class="reqError"></span>
											</div>
										</div>

										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Email ID </label>
											<div class="col-sm-2">
												<input type="text" id="ca_email_id"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_email_id"
													th:value="${customerRequest?.ca_email_id}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Mobile No </label>
											<div class="col-sm-2">
												<div class="input-group">
													<div class="input-group-prepend">
														<input type="text" id="ca_countrycode_1"
															name="ca_countrycode_1"
															th:value="${customerRequest?.ca_countrycode_1}"
															class="form-control form-control-sm bg-white border border-dark"
															value="+975" maxlength="5" style="width: 60px;"
															readonly="readonly" />
													</div>
													<input type="number" id="mobno" name="ca_mobile_number"
														autocomplete="off" maxlength="7"
														th:value="${customerRequest?.ca_mobile_number}"
														class="form-control form-control-sm bg-white border border-dark"
														style="width: 100px;" readonly />
												</div>
											</div>
										</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>

								<div class="card ">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">ADDRESS DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="row formline"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Address Type </label>
											<div class="col-sm-2">
												<!-- <select id="ca_address_type" name="ca_address_type"
																			th:value="${customerRequest?.ca_address_type}"
																			class="form-control form-control-sm bg-white border border-dark"
																			autocomplete="off" style="width: 100%">
																			<option value="">SELECT</option>
																			<option value="MAILING"
																				th:selected="${customerRequest?.ca_address_type}=='Mailing'">
																				MAILING</option>
																			<option value="PERMANENT"
																				th:selected="${customerRequest?.ca_address_type}=='Permanent'">
																				PERMANENT</option>
																		</select> <span id="merchant_city_vali" class="reqError"></span> -->
												<input type="text" id="ca_address_type"
													onkeyup="this.value = this.value.toUpperCase();"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_address_type}"
													name="ca_address_type" autocomplete="off" readonly>
												<span id="merchant_addr_vali" class="reqError"></span>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">House No </label>
											<div class="col-sm-2">
												<input type="text" id="ca_house_no"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_house_no"
													th:value="${customerRequest?.ca_house_no}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Street No </label>
											<div class="col-sm-2">
												<input type="text" id="ca_street_no"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_street_no}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_street_no" autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Street Name</label>
											<div class="col-sm-2">
												<input type="text" id="ca_street_name"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_street_name}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_street_name" autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Country</label>
											<div class="col-sm-2">
												<input type="text" id="ca_country"
													th:value="${customerRequest?.ca_country}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_country" autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">State</label>
											<div class="col-sm-2">
												<input type="text" id="ca_state"
													th:value="${customerRequest?.ca_state}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_state" autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">City</label>
											<div class="col-sm-2">
												<input type="text" id="ca_city"
													th:value="${customerRequest?.ca_city}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_city" autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Postal Code</label>
											<div class="col-sm-2">
												<input type="text" id="ca_postal_code"
													th:value="${customerRequest?.ca_postal_code}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_postal_code" autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Address Valid From</label>
											<div class="col-sm-2">
												<input type="text" id="ca_address_validation_form"
													th:value="${#dates.format(customerRequest?.ca_address_validation_form, 'dd-MM-yyyy')}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_address_validation_form" autocomplete="off"
													readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Nationality</label>
											<div class="col-sm-2">
												<input type="text" id="ca_nationality"
													th:value="${customerRequest?.ca_nationality}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_nationality" autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Country of Birth</label>
											<div class="col-sm-2">
												<input type="text" id="ca_country_of_birth"
													th:value="${customerRequest?.ca_country_of_birth}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_country_of_birth" autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Country of Origin</label>
											<div class="col-sm-2">
												<input type="text" id="country_origin"
													th:value="${customerRequest?.countryOrigin}"
													class="form-control form-control-sm bg-white border border-dark"
													name="country_origin" autocomplete="off" readonly>
											</div>
										</div>
									</div>
								</div>

								<label></label>
								<div class="row formline"></div>

								<div class="card mt-2 p-1 ">

									<div class="card-header">
										<h6 style="color: black; margin: 0;">ACCOUNT DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="row formline  mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Scheme Type </label>
											<div class="col-sm-2">
												<input type="text" id="ca_schemetype"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_schemetype"
													th:value="${customerRequest?.ca_schemetype}"
													onkeyup="this.value = this.value.toUpperCase(); toggleAccountFields();"
													autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Scheme Code </label>
											<div class="col-sm-2">
												<input type="text" id="ca_scheme_code"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_scheme_code"
													th:value="${customerRequest?.ca_scheme_code}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline   mt-2"
											style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
											<label class="col-sm-2">Account Branch Id</label>
											<div class="col-sm-2">
												<input type="text" id="ca_solid"
													th:value="${customerRequest?.ca_solid}"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_solid" autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Account Branch Name</label>
											<div class="col-sm-2">
												<input type="text" id="branch_desc"
													class="form-control form-control-sm bg-white border border-dark"
													name="branch_desc"
													th:value="${customerRequest?.branch_desc}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
										</div>

										<div id="Acc_TermDeposit" style="display: none;">
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">GL Code </label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="td_glcode" name="td_glcode"
														th:value="${customerRequest?.td_glcode}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="20" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">GL Desc</label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="td_gldesc" name="td_gldesc"
														th:value="${customerRequest?.td_gldesc}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">GLSH Code </label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="td_glshcode" name="td_glshcode"
														th:value="${customerRequest?.td_glshcode}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="20" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">GLSH Desc</label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="td_glshdesc" name="td_glshdesc"
														th:value="${customerRequest?.td_glshdesc}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline mt-2 ">
												<div class="col-sm-2 ">
													<label for="sche_type">Deposit Account No </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value=${customerdata?.depo_actno} maxlength="20"
														id="depo_actno" name="depo_actno" autocomplete="off"
														readonly />

												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Date of Deposits </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${#dates.format(customerdata?.deposit_date, 'dd-MM-yyyy')}"
														maxlength="10" id="deposit_date" name="deposit_date"
														autocomplete="off" readonly />
												</div>

											</div>
											<div class="row formline   mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">Deposit Amount </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value=${customerdata?.deposit_amt} maxlength="10"
														id="deposit_amt" name="deposit_amt" autocomplete="off"
														readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Account Currency </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="currency" name="currency"
														th:value=${customerdata?.currency} autocomplete="off"
														value="BTN" title="Bhutanese Ngultrum" readonly />
												</div>

											</div>
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">Deposit Period </label>
												</div>
												<div class="col-sm-2 d-flex align-items-center">
													<input type="text" name="deposit_period"
														id="deposit_period" onchange="updateMaturityDate()"
														class="form-control form-control-sm bg-white border border-dark"
														readonly required style="margin-right: 0;"
														th:value=${customerdata?.deposit_period} /> <input
														type="text" id="depositperiod" value="Months"
														class="form-control form-control-sm bg-white border border-dark"
														required style="margin-left: 0;" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Maturity Date </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${#dates.format(customerdata?.maturity_date, 'dd-MM-yyyy')}"
														maxlength="13" id="maturity_date" name="maturity_date"
														autocomplete="off" readonly />
												</div>
											</div>

											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">Rate of Interest</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value=${customerdata?.rate_of_int} maxlength="10"
														id="rate_of_int" name="rate_of_int" autocomplete="off"
														readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Interest Amount </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="int_amt" name="int_amt"
														th:value=${customerdata?.int_amt} autocomplete="off"
														readonly />
												</div>

											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">Compounding Factor </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="compounding_factor"
														name="compounding_factor" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Maturity Amount </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${#dates.format(customerdata?.maturity_date, 'dd-MM-yyyy')}"
														maxlength="13" id="maturity_amt" name="maturity_amt"
														autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">Deposit Type </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="deposit_type"
														th:value=${customerdata?.deposit_type} name="deposit_type"
														autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Frequency</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="13" id="frequency" name="frequency"
														th:value=${customerdata?.frequency} autocomplete="off"
														readonly />
												</div>
												<div class="col-sm-1">
													<!-- Button to open modal -->
													<button type="button" class="btn btn-primary"
														style="margin-left: -25px; font-size: 13px"
														onclick="depositflow(this)" data-toggle="modal"
														data-target="#myleasecaldep">Deposit Flow</button>
												</div>
											</div>
										</div>

										<div id="Acc_LeaseAccount" style="display: none;">
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">GL Code </label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="la_glcode" name="la_glcode"
														th:value="${customerRequest?.la_glcode}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="20" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">GL Desc</label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="la_gldesc" name="la_gldesc"
														th:value="${customerRequest?.la_gldesc}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">GLSH Code </label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="la_glshcode" name="la_glshcode"
														th:value="${customerRequest?.la_glshcode}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="20" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">GLSH Desc</label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="la_glshdesc" name="la_glshdesc"
														th:value="${customerRequest?.la_glshdesc}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline   mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">Loan Account No </label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="loan_accountno"
														name="loan_accountno"
														th:value="${loanDetails?.loan_accountno}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="20" autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Date of Loan</label>
												</div>
												<div class="col-sm-2">
													<input type="text" id="date_of_loan" name="date_of_loan"
														th:value="${#dates.format(loanDetails?.date_of_loan, 'dd-MM-yyyy')}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">

												<div class="col-sm-2  ">
													<label for="sche_code">Account Currency</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${loanDetails?.loan_currency}" maxlength="10"
														id="loan_currency" name="loan_currency" value="BTN"
														title="Bhutanese Ngultrum" autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2 ">
													<label for="sche_type">Interest Rate</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="effective_interest_rate"
														th:value="${loanDetails?.effective_interest_rate}"
														name="effective_interest_rate" autocomplete="off" readonly />
												</div>

											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_type">Loan Sanctioned </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														th:value="${loanDetails?.loan_sanctioned == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.loan_sanctioned, 0, 'COMMA', 2, 'POINT')}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="20" id="loan_sanctioned"
														oninput="setOutstanding(this)" name="loan_sanctioned"
														autocomplete="off" readonly />

												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Loan Period </label>
												</div>
												<div class="col-sm-2">
													<div class="d-flex" style="gap: 5px;">
														<!-- day Field -->
														<!-- <input type="text" name="loan_period1" id="loan_period1"
															class="form-control form-control-sm bg-white border border-dark"
															placeholder="dd" readonly /> -->
														<!-- Month Field -->
														<input type="text" name="loan_period" id="loan_period"
															oninput="calculatePercentage(this);numberOnly(this);"
															th:value="${loanDetails?.loan_period}"
															class="form-control form-control-sm bg-white border border-dark"
															placeholder="mm" readonly />
															<input type="text"  
																class="form-control form-control-sm bg-white border border-dark text-center"
																placeholder="Months" readonly />
														<!-- year Field -->
												<!-- 		<input type="text" name="loan_period3" id="loan_period3"
															class="form-control form-control-sm bg-white border border-dark"
															placeholder="yyyy" readonly /> -->
													</div>
												</div>
											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_code">Margin %</label>
												</div>
												<div class="col-sm-2">
													<input type="text" oninput="calculateDrawingLimit(this)"
														th:value="${loanDetails?.margin_limit}"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="margin_limit" name="margin_limit"
														autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2 ">
													<label for="sche_type">Drawing Limit </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${loanDetails?.drawing_limit == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.drawing_limit, 0, 'COMMA', 2, 'POINT')}"
														maxlength="10" id="drawing_limit" name="drawing_limit"
														autocomplete="off" readonly="readonly" />
												</div>
											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_type">Outstanding </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="loan_outstanding"
														th:value="${loanDetails?.loan_outstanding == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.loan_outstanding, 0, 'COMMA', 2, 'POINT')}"
														name="loan_outstanding" autocomplete="off"
														readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Disbursement </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${loanDetails?.disbursement == 0 ? '0.00' :#numbers.formatDecimal(loanDetails?.disbursement, 0, 'COMMA', 2, 'POINT')}"
														maxlength="10" id="disbursement" name="disbursement"
														autocomplete="off" readonly />
												</div>
											</div>

											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2  ">
													<label for="sche_type">Repayment Terms</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="repayment_terms" name="repayment_terms"
														autocomplete="off" readonly />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2  ">
													<label for="sche_type">Recovery Method </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="recovery_method"
														th:value="${loanDetails?.recovery_method}"
														name="recovery_method" autocomplete="off" readonly />
												</div>
											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_code">Expiry date </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="expiry_date" name="expiry_date"
														th:value="${#dates.format(loanDetails?.expiry_date, 'dd-MM-yyyy')}"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Remarks </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														onkeyup="this.value = this.value.toUpperCase();handleIn(this)"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="13" id="la_remarks" name="la_remarks"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1">
													<!-- Button to open modal -->
													<button type="button" class="btn btn-primary"
														onclick="calculateDTI()"
														style="margin-left: -25px; font-size: 13px"
														data-toggle="modal" data-target="#myaccModal">DTI
														Validation</button>
												</div>
											</div>



											<div class="row formline mt-2 ">
												<div class="col-sm-2 ">
													<h5
														style="color: #00008B; font-size: 16px; font-weight: bold">Repayment
														Details</h5>
												</div>


											</div>



											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_type">Installment ID</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${paymentDetails?.inst_id}" id="inst_id"
														name="inst_id" autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Installment Start Date</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														th:value="${#dates.format(paymentDetails?.inst_start_dt, 'dd-MM-yyyy')}"
														maxlength="10" id="inst_start_dt" name="inst_start_dt"
														autocomplete="off" readonly="readonly" />
												</div>

											</div>
											<div class="row formline   mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_type">No of Installment</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="no_of_inst" name="no_of_inst"
														th:value="${paymentDetails?.no_of_inst}"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Cap At Maturity ? </label>
												</div>
												<div class="col-sm-2">
													 <input
														type="radio" id="maturity_flg"
														th:value="${paymentDetails?.maturity_flg}"
														name="maturity_flg"><font>Yes</font><input
														type="radio" id="maturity_flg"
														name="maturity_flg"
														th:value="${paymentDetails?.maturity_flg}"
														style="margin-left: 20px;" checked><font>No</font>
												</div>
											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_type">Principal Installment Freq</label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="inst_freq" name="inst_freq"
														th:value="${paymentDetails?.inst_freq}" autocomplete="off"
														readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_code">Interest Installment Freq </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="interest_frequency"
														name="interest_frequency" autocomplete="off"
														th:value="${paymentDetails?.interest_frequency}"
														readonly="readonly" />
												</div>

											</div>
											<div class="row formline  mt-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<div class="col-sm-2 ">
													<label for="sche_type">Installment Amount </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="10" id="inst_amount" name="inst_amount"
														th:value="${paymentDetails?.inst_amount == 0 ? '0.00' :#numbers.formatDecimal(paymentDetails?.inst_amount, 0, 'COMMA', 2, 'POINT')}"
														autocomplete="off" readonly="readonly" />
												</div>
												<div class="col-sm-1"></div>
												<div class="col-sm-2">
													<label for="sche_type">Installment (%) </label>
												</div>
												<div class="col-sm-2">
													<input type="text"
														onkeyup="this.value = this.value.toUpperCase();handleIn(this)"
														class="form-control form-control-sm bg-white border border-dark"
														maxlength="13" th:value="${paymentDetails?.inst_pct}"
														id="inst_pct" name="inst_pct" autocomplete="off"
														readonly="readonly" />
												</div>
												<div class="col-sm-1">
													<!-- Button to open modal -->
													<button type="button" class="btn btn-primary"
														style="margin-left: -25px;"
														th:attr="data-loan_accountno = ${loanDetails?.loan_accountno}"
														onclick="sechduleView(this)" data-toggle="modal"
														data-target="#myleasecal">Schedule</button>
												</div>
											</div>



										</div>



									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card "
									style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">IDENTIFICATION</h6>
									</div>
									<div class="card-body">
										<div class="row formline">
											<label class="col-sm-2">National ID </label>
											<div class="col-sm-2">
												<input type="text" id="ca_idenditification_number"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_idenditification_number}"
													name="ca_idenditification_number"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Issue Date </label>
											<div class="col-sm-2">
												<input type="text" id="ca_issue_date"
													class="form-control form-control-sm bg-white border border-dark"
													name="ca_issue_date"
													th:value="${#dates.format(customerRequest?.ca_issue_date, 'dd-MM-yyyy')}"
													onkeyup="this.value = this.value.toUpperCase();"
													autocomplete="off" readonly>
											</div>
										</div>
										<div class="row formline mt-2">
											<label class="col-sm-2">Passport No </label>
											<div class="col-sm-2">
												<input type="text" id="ca_passport_number"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${customerRequest?.ca_passport_number}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_passport_number" autocomplete="off" readonly>
											</div>
											<div class="col-sm-1"></div>
											<label class="col-sm-2">Expiry Date</label>
											<div class="col-sm-2">
												<input type="text" id="ca_expiry_date"
													class="form-control form-control-sm bg-white border border-dark"
													th:value="${#dates.format(customerRequest?.ca_expiry_date, 'dd-MM-yyyy')}"
													onkeyup="this.value = this.value.toUpperCase();"
													name="ca_expiry_date" autocomplete="off" readonly>
											</div>
										</div>
									</div>

								</div>

								<label></label>
								<div class="row formline"></div>
								<div class="card "
									style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">OTHER DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="col-sm-2">
											<div class="form-group ">
												<span class="col-sm-2 control-label" style="color: black;">Non-Resident<span
													style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_non_resident"
													style="margin-left: 20px"
													th:value="${customerRequest?.ca_non_resident}"
													name="ca_non_resident"> <font>Yes</font> <input
													type="radio" id="ca_non_resident" name="ca_non_resident"
													th:value="${customerRequest?.ca_non_resident}"
													style="margin-left: 20px;" checked><font>No</font>
											</div>
											<div class="form-group ">
												<span class="col-sm-2 control-label" style="color: black;">Staff
													Indicator<span style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_staff_indicator"
													style="margin-left: 19px"
													th:value="${customerRequest?.ca_staff_indicator}"
													name="ca_staff_indicator"><font>Yes</font><input
													type="radio" id="ca_staff_indicator"
													name="ca_staff_indicator"
													th:value="${customerRequest?.ca_staff_indicator}"
													style="margin-left: 20px;" checked><font>No</font>

											</div>
											<div class="form-group ">

												<span class="col-sm-2 control-label" style="color: black;">Trade
													Finance<span style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_trdfin"
													style="margin-left: 20px"
													th:value="${customerRequest?.ca_trdfin}" name="ca_trdfin"><font>Yes</font><input
													type="radio" id="ca_trdfin" name="ca_trdfin"
													th:value="${customerRequest?.ca_trdfin}"
													style="margin-left: 20px;" checked><font>No</font>

											</div>
											<div class="form-group ">
												<span class="col-sm-2 control-label" style="color: black;">Minor
													Indicator<span style="color: red;" class="mant"></span>
												</span> <input type="radio" id="ca_minor_indicator"
													style="margin-left: 13px" name="ca_minor_indicator"><font>Yes</font><input
													type="radio" id="ca_minor_indicator"
													name="ca_minor_indicator" style="margin-left: 20px;"
													checked><font>No</font>

											</div>
										</div>

									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">DOCUMENT DETAILS</h6>
									</div>
									<div class="card-body">

										<div id="myModaldoc" class="modaldoc" style="display: none">
											<div class="modal-contentdoc">
												<span class="closedoc" id="closeModaldoc"
													onclick=closeDoc(this)>&times;</span>
												<div id="popup1" class="overlay "
													style="z-index: 1001; display: flex; justify-content: center; align-items: center;">
													<div class="popupw-img">
														<a class="imageclosedoc" href="#"></a>
														<div class="card-bodydoc">
															<div id="imgCapture11"></div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div style="background-color: #eeeeee;">
											<table class="table  table-bordered  table-hover table-sm"
												style="table-layout: fixed; width: 100%; font-size: initial;">
												<tr>
													<td><b>Document Type</td>
													<td><b>Document Code</b></td>
													<td><b>Document Description</b></td>
													<td><b>Place of issue</b></td>
													<td><b>Unique Id</b></td>
													<td><b>Issue Date</b></td>
													<td><b>Expiry Date</b></td>
													<td><b>Document View</b></td>
												</tr>
												<tbody id="dataTables">
													<tr th:each="Doocument : ${DocumentList}">

														<td th:text="${Doocument?.document_type}"
															class="rowDataField" style="width: 150px;">Address</td>
														<td th:text="${Doocument?.document_code}"
															class="rowDataField" style="width: 120px;">ADD001</td>
														<td th:text="${Doocument?.document_type_desc}"
															class="rowDataField" style="width: 160px;">Passport</td>
														<td th:text="${Doocument?.place_of_issue}"
															class="rowDataField" style="width: 120px;">Madurai</td>
														<td th:text="${Doocument?.unique_id}" class="rowDataField"
															style="width: 120px;">D324234234</td>
														<td th:text="${Doocument?.issue_date}"
															class="rowDataField" style="width: 120px;">18-JUN-2018</td>
														<td th:text="${Doocument?.expiry_date}"
															class="rowDataField" style="width: 120px;">15-JUN-2023</td>
														<td
															th:if="${Doocument?.file_name != null && (Doocument.file_name.endsWith('.jpeg') || Doocument.file_name.endsWith('.jfif') || Doocument.file_name.endsWith('.jpg'))}">
															<i class="fa fa-info-circle" aria-hidden="true"
															onclick="show1(this)" id="openModaldoc"
															th:attr="data-doc_type=${Doocument?.unique_id}"
															style='font-size: 20px; color: DodgerBlue; width: 50px; margin-left: 30px'
															data-toggle="modal" data-target=".bd-example-modal-lg"></i>
														</td>
														<td
															th:if="${Doocument?.file_name == null || !(Doocument.file_name.endsWith('.jpeg') || Doocument.file_name.endsWith('.jfif') || Doocument.file_name.endsWith('.jpg'))}">
															<a th:href="@{'/' + ${Doocument?.unique_id}}"
															style="text-decoration: none; color: DodgerBlue;"> <i
																class="fa fa-info-circle" aria-hidden="true"
																style='font-size: 20px; color: DodgerBlue; width: 50px; margin-left: 30px'></i>

														</a>

														</td>

														<td th:text="${Doocument?.file_name}" class="rowDataField"
															style="width: 100px;" hidden></td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">SIGNATURE DETAILS</h6>
									</div>
									<div class="card-body">
										<div class="p-2"
													style="background-color: #eeeeee; overflow: auto; height: 180px">
														<table>
													<thead>
													<tr>
													<th></th>
													<th style="width:800px;text-align:center" >NAME :</th>
													</tr>
													</thead>
													<tbody id="sign">
														<tr  th:each="sign : ${SIGNATURE}">
															<th></th>
															<td th:text="${sign?.keyword}"style="width:800px;text-align:center"></td>
															
															<td class="p-2">
																<div id="photoCapture1"
																
																	style="border: 1px solid #ccc; height: 60px; width: 100px;">
																</div>
																</td>
																<td>
																<div style="padding-left:50px; height: 60px; width: 100px;"
																	id="imgCapture1"
																	>
																</div>

															</td>
														
														</tr>
													</tbody>
												</table>
												</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card ">
									<div class="card-header">
										<h6 style="color: black; margin: 0;">CUSTOMER CHECKS</h6>
									</div>
									<div class="card-body">
										<div>
											<div class="row formline"
												style="font-size: 13px; font-weight: 500;">
												<span>1.Duplicate List</span>
											</div>
											<div class="col-sm-2"></div>
											<div class="row formline"
												style="font-size: 13px; padding: 10px;">
												<span>No Result found on Customer Check</span>

											</div>
										</div>
										<div class="row formline"
											style="font-size: 13px; font-weight: 500;">
											<span>2.Black List</span>
										</div>
										<div class="col-sm-2"></div>
										<div class="row formline"
											style="font-size: 13px; padding: 10px;">
											<span>No Result found on Customer Check</span>
										</div>
										<div class="row formline"
											style="font-size: 13px; font-weight: 500;">
											<span>3.Negative List</span>
										</div>
										<div class="col-sm-2"></div>
										<div class="row formline"
											style="font-size: 13px; padding: 10px;">
											<span>No Result found on Customer Check</span>

										</div>
									</div>
								</div>
								<label></label>
								<div class="row formline"></div>
								<div class="card  ">
									<div class="card-body">
										<input type="checkbox" id="aofcheck" checked>&nbsp;&nbsp;Upload
										Account Opening Form
									</div>
								</div>
							</form>

							<!-- Main Form -->




							<!-- Loader HTML -->
							<div id="loader"
								style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; background-color: rgba(211, 211, 211, 0.6); /* Light gray with more transparency */ padding: 20px; /* Padding around the loader */ border-radius: 8px; /* Rounded corners */ text-align: center;">
								<!-- Center text in the loader -->
								<div
									style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
									<img style="width: 50px; height: 50px;"
										th:src="@{/images/loader.gif}" alt="Loading..." />
								</div>
							</div>
							<div class="card-footer text-center mt-3">
							<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnBack" th:if="${customerRequest?.status != 'REJECT'}"
									onclick="submitfin();">Proceed</button>
								<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnSubmit" onclick="onaof();">View AOF</button>
								<button type="button" class="btn btn-xs btn-primary p-2"
									id="btnBack" onclick="goBack();">Back</button>


							</div>
						</div>


					</div>
					<div class="container-fluid card">
						<div class="">
							<div class="card-body text-center">
								<div class="form-group ">
									<div class="container-fluid">
										<div class="row row-cols-2 row-cols-lg-3">
											<div class="col-sm-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label>Entry User:</label>
											</div>
											<div class="col-sm-2">
												<input type="text" th:value="${customerRequest?.entry_user}"
													class="form-control form-control-sm bg-white border border-dark"
													autocomplete="off" />
											</div>
											<div class="col-sm-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label>Modify User:</label>
											</div>
											<div class="col-sm-2">
												<input type="text"
													th:value="${customerRequest?.modify_user}"
													class="form-control form-control-sm bg-white border border-dark"
													autocomplete="off" />
											</div>

											<div class="col-sm-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label>Verify User:</label>
											</div>
											<div class="col-sm-2">
												<input type="text" th:value="${userid}"
													class="form-control form-control-sm bg-white border border-dark"
													autocomplete="off" />
											</div>
										</div>

										<div class="row row-cols-2 row-cols-lg-3">
											<div class="col-sm-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label>Entry Date:</label>
											</div>
											<div class="col-sm-2">
												<input type="hidden"
													class="form-control form-control-sm bg-white border border-dark"
													autocomplete="off" /> <input type="text"
													th:value="${#dates.format(customerRequest?.entry_time, 'dd-MM-yyyy HH:mm:ss')}"
													class="form-control form-control-sm bg-white border border-dark"
													autocomplete="off" />
											</div>

											<div class="col-sm-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label>Modify Date:</label>
											</div>
											<div class="col-sm-2">
												<input type="text"
													th:value="${#dates.format(customerRequest?.entry_time, 'dd-MM-yyyy HH:mm:ss')}"
													class="form-control form-control-sm bg-white border border-dark"
													autocomplete="off" />
											</div>

											<div class="col-sm-2"
												style="font-size: 15px; font-weight: 500; padding: 0px 0px 2px 0px;">
												<label>Verify Date:</label>
											</div>
											<div class="col-sm-2">
												<input type="text"
													th:value="${#dates.format(date, 'dd-MM-yyyy HH:mm:ss')}"
													class="form-control form-control-sm bg-white border border-dark"
													autocomplete="off" />
											</div>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>

				</div>

<!-- END VIEW -->
			</div>
		</div>
	</div>

	<div class="modal fade" data-backdrop="false" data-keyboard="false"
		id="mypopup" tabindex="-1" role="dialog" aria-hidden="true">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content" style="width: 120%; height: 25%">
				<div class="card">
					<!-- Header with Alert Message -->
					<div class="modal-header">
						<h5 class="modal-title" id="popupAlert" style="font-size: 13px">Alert
							Message</h5>
						<!-- Alert message will appear here -->
					</div>

					<!-- Body with Response -->
					<div class="modal-body"
						style="text-align: center; display: flex; justify-content: center; align-items: center; height: 100px; overflow-y: auto; font-weight: bold; font-size: 15px">
						<h6 id="popupmsg"></h6>

					</div>

					<!-- Footer with Close Button -->
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal"
							onclick="goBack();">Close</button>
						<!-- Calls goBack function -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="modal" id="myaccModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" data-backdrop="false"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-scrollable custom-modal"
			role="document">
			<!-- Custom class added here -->
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="myModalLabel">DTI- DEBT TO INCOME
						RATIO</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" style="overflow-y: auto;">
					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="borrower_name">Borrower Name</label>
						</div>
						<div class="col-sm-2">
							<input type="text" id="borrower_name"
								th:value="${customerRequest?.ca_first_name}"
								class="form-control form-control-sm bg-white border border-dark"
								maxlength="10" autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="constitution">Constitution</label>
						</div>
						<div class="col-sm-2">
							<input type="text" id="constitution"
								th:value="${customerRequest?.la_customer_type}"
								class="form-control form-control-sm bg-white border border-dark"
								maxlength="10" autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="month_income">Monthly Income</label>
						</div>
						<div class="col-sm-2">
							<input type="text" id="month_income"
								th:value="${customerRequest?.monthly_income}"
								class="form-control form-control-sm bg-white border border-dark"
								autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="monthly_repayment">Monthly Repayment</label>
						</div>
						<div class="col-sm-2">
							<input type="text" id="monthly_repayment"
								class="form-control form-control-sm bg-white border border-dark"
								autocomplete="off" />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-2 ml-2">
							<label for="date_to_income" style="font-size: 14px"><strong>DEBT
									TO INCOME </strong></label>
						</div>
						<!-- <div class="col-sm-2">
							<button type="button" class="btn btn-primary"
								onclick="calculateDTI()">Calculate DTI</button>
						</div> -->
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="dti_ratio" style="font-size: 14px"><strong>DTI
									Ratio = Monthly Repayment / Monthly Income x 100</strong></label>
						</div>
						<div class="col-sm-2">
							<input type="text" id="dti_ratio" name="dti_ratio"
								class="form-control form-control-sm bg-white border border-dark"
								readonly />
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-6 ml-2">
							<label for="dti_status" style="font-size: 14px"><strong>Status:</strong></label>
						</div>
						<div class="col-sm-2">
							<span id="dti_status"
								class="form-control form-control-sm bg-white border border-dark"
								style="border: none; background: transparent;"></span>
						</div>
					</div>

					<div class="row formline mt-2">
						<div class="col-sm-2 ml-2">
							<label for="date_to_income" style="font-size: 14px"><strong>NOTE:</strong></label>
						</div>
						<div class="col-sm-2">
							<label for="date_to_income" style="font-size: 14px"><strong>35%
									Favorable </strong></label><br> <label for="date_to_income"
								style="font-size: 14px"><strong>36% to 49%
									Adequate </strong></label>
						</div>
					</div>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

</body>
<script type="text/javascript">
function goBack() {
    // Use this to go to the previous page in browser history
    history.back();
} 


function submitfin(){
			var rec_no = document.getElementById("rec_no").value;
			var ApprefNO = document.getElementById("gooom").value; 
			//alert(rec_no + ApprefNO);
			$.ajax({
				type: 'POST', 
				url : './HoldFuncs?formmode=submitfin&rec_no=' + rec_no
				+ "&ApprefNO=" + ApprefNO,
				success: function (response) { 
					   $('#mypopup22').modal('show'); 
		               $("#popupmsg_body").html(response);  
				}
			}); 
			}
			
function sechduleView(a) {

	var accountNo = a.getAttribute('data-loan_accountno');
	console.log(accountNo);

	$
		.ajax({
			type: "GET",
			url: "./getInterestDetailsView?accountNo=" + accountNo,
			success: function (data) {
				console.log(data);
				var trHTML = '';
				$
					.each(
						data,
						function (index, entity) {

							var no_of_instalment = index+1;
							var from_date = formatDate(entity.from_date);
							var installment_date = formatDate(entity.installment_date);
							var installment_description = entity.installment_description;
							var installment_amt = formatNumber(entity.installment_amt);
							var principal_amt = formatNumber(entity.principal_amt);
							var interest_amt = formatNumber(entity.interest_amt);
							var charges_amt = formatNumber(entity.charges_amt);
							var principal_outstanding = formatNumber(entity.principal_outstanding);



							trHTML += '<tr id="sechduleRow">'
								+ '<td><input type="text" class="border-0" name="scheduleNo" readonly value="' + no_of_instalment + '" /></td>'
								+ '<td><input type="text" class="border-0" name="originalDemandDate" readonly value="' + from_date + '" /></td>'

								+ '<td><input type="text" class="border-0" name="demandType" readonly value="' + installment_description + '" /></td>'
								+ '<td><input type="text" class="text-right border-0" name="demandId" readonly value="' + installment_amt + '" /></td>'
								+ '<td><input class="text-right border-0"  type="text" readonly name="demandAmount" value="'
								+ principal_amt
								+ '" /></td>'
								+ '<td><input type="text" class="text-right border-0" name="demandId" readonly value="' + interest_amt + '" /></td>'
								+ '<td><input type="text"  class="text-right border-0" name="demandId" readonly value="' + charges_amt + '" /></td>'
								+ '<td><input type="text"  class="text-right border-0" name="demandId" readonly value="' + principal_outstanding + '" /></td>'

								+ '</tr>';

						});
				$('#repaymentDet').empty().append(trHTML);
				


			},
			error: function (error) {
				console.error(error);
			}
		});
}
function formatDate(dateString) {

	var date = new Date(dateString);


	var day = date.getDate();
	var month = date.getMonth() + 1;
	var year = date.getFullYear();


	if (day < 10) {
		day = '0' + day;
	}
	if (month < 10) {
		month = '0' + month;
	}

	return day + '-' + month + '-' + year;
}

function formatNumber(number) {
	return Number(number).toLocaleString('en-US', {
		minimumFractionDigits: 2,
		maximumFractionDigits: 2
	});
}
</script>

	<div class="modal fade" data-backdrop="false" data-keyboard="false"
	tabindex="-1" role="dialog" aria-hidden="true"
	style="padding-left: 10%" id="mypopup22">
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"
		style="height: 20%">
		<div class="modal-content">
			<div class="modal-body" style="text-align: center">
				<p id="popupmsg_body"></p>
				<button type="button" class="btn btn-primary" 
					onclick="Back();">Close</button>
			</div>
		</div>
	</div>
</div>
	<div class="modal" id="myleasecal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" data-backdrop="false"
		aria-hidden="true">
		<div class="modal-dialog custom-modal modal-dialog-centered"
			role="document">
			<!-- Custom class added here -->
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="myModalLabel">Demand Schedule
						Details</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" style="overflow-y: auto;">
					<div class="table-responsive" id="demandtable">
						<table class="table table-bordered">
							<thead>
								<tr>
									<th style="text-align: left; width: 60px !important;">Srl.
										No.</th>

									<th style="text-align: left; width: 60px !important;">
										Installment Date</th>
									<th style="text-align: left; width: 60px !important;">
										Installment Description</th>
									<th style="text-align: right; width: 60px !important;">
										Installment Amt.</th>
									<th style="text-align: right; width: 60px !important;">
										Principal Amt.</th>
									<th style="text-align: right; width: 60px !important;">Interest
										Amt.</th>
									<th style="text-align: right; width: 60px !important;">Charges
										Amt.</th>
									<th style="text-align: right; width: 60px !important;">
										Principal Outstanding</th>

								</tr>
							</thead>
							<tbody id="repaymentDet">

								<!-- More rows can be added similarly -->
							</tbody>
						</table>
					</div>
				</div>


				<div class="modal-footer">
					<!-- <button type="button" class="btn btn-primary"
																	onclick="calculateDTI()">Calculate DTI</button> -->
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>

	</div>

</html>